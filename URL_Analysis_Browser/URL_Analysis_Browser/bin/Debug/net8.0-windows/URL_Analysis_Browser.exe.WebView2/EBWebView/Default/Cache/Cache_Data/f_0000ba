var starter = 0;
var carouselGroupCells = false;
var whichOne = "";
var linkDataLayer = "";

function sbg() {
    function a(a, c) {
        var d = c.getAttribute("data-sbg-height"),
            e = c.getAttribute("data-sbg-width"),
            f = Math.max(0, (screen.height - d) / 2),
            g = Math.max(0, (screen.width - e) / 2),
            h = "height=" + d + ",width=" + e + ",top=" + f + ",left=" + g + ",status=0,toolbar=0,directories=0,location=0,menubar=0,resizable=1,scrollbars=1",
            i = "sbg-window-" + Math.random();
        switch (a) {
            case "facebook":
                var j = b("http://www.facebook.com/sharer.php", {
                    s: 100,
                    "p[url]": c.getAttribute("data-sbg-url"),
                    "p[title]": c.getAttribute("data-sbg-title"),
                    "p[summary]": c.getAttribute("data-sbg-summary"),
                    "p[images][0]": c.getAttribute("data-sbg-image")
                });
                c.onclick = function() {
                    window.open(j, i, h)
                };
                break;
            case "twitter":
                var j = b("http://twitter.com/intent/tweet", {
                    text: c.getAttribute("data-sbg-text"),
                    via: c.getAttribute("data-sbg-via"),
                    hashtags: c.getAttribute("data-sbg-hashtags"),
                    url: c.getAttribute("data-sbg-url")
                });
                c.onclick = function() {
                    window.open(j, i, h)
                };
                break;
            case "linkedin":
                var j = b("http://www.linkedin.com/shareArticle", {
                    mini: "true",
                    url: c.getAttribute("data-sbg-url"),
                    title: c.getAttribute("data-sbg-title"),
                    source: c.getAttribute("data-sbg-source"),
                    summary: c.getAttribute("data-sbg-summary")
                });
                c.onclick = function() {
                    window.open(j, i, h)
                };
                break;
            case "google-plus":
                var j = b(" https://plus.google.com/share", {
                    url: c.getAttribute("data-sbg-url")
                });
                c.onclick = function() {
                    window.open(j, i, h)
                };
                break;
            case "pinterest":
                var j = b("http://www.pinterest.com/pin/create/button/", {
                    url: c.getAttribute("data-sbg-url"),
                    media: c.getAttribute("data-sbg-media"),
                    description: c.getAttribute("data-sbg-description")
                });
                c.onclick = function() {
                    window.open(j, i, h)
                };
                break;
            case "email":
                var j = b("mailto:", {
                    su: c.getAttribute("data-sbg-subject"),
                    subject: c.getAttribute("data-sbg-subject"),
                    body: [c.getAttribute("data-sbg-body"), c.getAttribute("data-sbg-url")].join("\n\n")
                });
                c.setAttribute("href", j)
        }
    }

    function b(a, b) {
        var c = "";
        for (var d in b) {
            var e = b[d];
            e && (e = e.toString().split('"').join('"'), c += d + "=" + encodeURIComponent(e) + "&")
        }
        return c.length > 0 && (c = c.substring(0, c.length - 1), a = a + "?" + c), a
    }
    for (var c = document.getElementsByClassName("sbg-button"), d = 0; d < c.length; d++) {
        var e = c[d];
        if (!e.hasAttribute("data-sbg-isBinded")) {
            e.setAttribute("data-sbg-isBinded", "true");
            var f = e.getAttribute("data-sbg-network");
            a(f, e)
        }
    }
}



function filterResearchAreas (){
   var researchArea = $("#researchAreas").val();
   if(researchArea == "all"){
        $('#facultyList li').show();
   }
   else{
    $('#facultyList li').hide();
    $('#facultyList li.' + researchArea).show();
   }
}

function dean_addEvent(a, b, c) {
    if (a.addEventListener) a.addEventListener(b, c, !1);
    else {
        c.$$guid || (c.$$guid = dean_addEvent.guid++), a.events || (a.events = {});
        var d = a.events[b];
        d || (d = a.events[b] = {}, a["on" + b] && (d[0] = a["on" + b])), d[c.$$guid] = c, a["on" + b] = handleEvent
    }
}

function removeEvent(a, b, c) {
    a.removeEventListener ? a.removeEventListener(b, c, !1) : a.events && a.events[b] && delete a.events[b][c.$$guid]
}

function handleEvent(a) {
    var b = !0;
    a = a || fixEvent(((this.ownerDocument || this.document || this).parentWindow || window).event);
    var c = this.events[a.type];
    for (var d in c) this.$$handleEvent = c[d], this.$$handleEvent(a) === !1 && (b = !1);
    return b
}

function fixEvent(a) {
    return a.preventDefault = fixEvent.preventDefault, a.stopPropagation = fixEvent.stopPropagation, a
}

function stackBlurCanvasRGBA(a, b, c, d, e, f) {
    if (!(isNaN(f) || f < 1)) {
        f |= 0;
        var g, h = a.getContext("2d");
        try {
            try {
                g = h.getImageData(b, c, d, e)
            } catch (i) {
                try {
                    netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"), g = h.getImageData(b, c, d, e)
                } catch (i) {
                    throw alert("Cannot access local image"), new Error("unable to access local image data: " + i)
                }
            }
        } catch (i) {
            throw alert("Cannot access image"), new Error("unable to access image data: " + i)
        }
        var j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C, D, E, F, G, H = g.data,
            I = f + f + 1,
            J = d - 1,
            K = e - 1,
            L = f + 1,
            M = L * (L + 1) / 2,
            N = new BlurStack,
            O = N;
        for (l = 1; l < I; l++)
            if (O = O.next = new BlurStack, l == L) var P = O;
        O.next = N;
        var Q = null,
            R = null;
        p = o = 0;
        var S = mul_table[f],
            T = shg_table[f];
        for (k = 0; k < e; k++) {
            for (y = z = A = B = q = r = s = t = 0, u = L * (C = H[o]), v = L * (D = H[o + 1]), w = L * (E = H[o + 2]), x = L * (F = H[o + 3]), q += M * C, r += M * D, s += M * E, t += M * F, O = N, l = 0; l < L; l++) O.r = C, O.g = D, O.b = E, O.a = F, O = O.next;
            for (l = 1; l < L; l++) m = o + ((J < l ? J : l) << 2), q += (O.r = C = H[m]) * (G = L - l), r += (O.g = D = H[m + 1]) * G, s += (O.b = E = H[m + 2]) * G, t += (O.a = F = H[m + 3]) * G, y += C, z += D, A += E, B += F, O = O.next;
            for (Q = N, R = P, j = 0; j < d; j++) H[o + 3] = F = t * S >> T, 0 != F ? (F = 255 / F, H[o] = (q * S >> T) * F, H[o + 1] = (r * S >> T) * F, H[o + 2] = (s * S >> T) * F) : H[o] = H[o + 1] = H[o + 2] = 0, q -= u, r -= v, s -= w, t -= x, u -= Q.r, v -= Q.g, w -= Q.b, x -= Q.a, m = p + ((m = j + f + 1) < J ? m : J) << 2, y += Q.r = H[m], z += Q.g = H[m + 1], A += Q.b = H[m + 2], B += Q.a = H[m + 3], q += y, r += z, s += A, t += B, Q = Q.next, u += C = R.r, v += D = R.g, w += E = R.b, x += F = R.a, y -= C, z -= D, A -= E, B -= F, R = R.next, o += 4;
            p += d
        }
        for (j = 0; j < d; j++) {
            for (z = A = B = y = r = s = t = q = 0, o = j << 2, u = L * (C = H[o]), v = L * (D = H[o + 1]), w = L * (E = H[o + 2]), x = L * (F = H[o + 3]), q += M * C, r += M * D, s += M * E, t += M * F, O = N, l = 0; l < L; l++) O.r = C, O.g = D, O.b = E, O.a = F, O = O.next;
            for (n = d, l = 1; l <= f; l++) o = n + j << 2, q += (O.r = C = H[o]) * (G = L - l), r += (O.g = D = H[o + 1]) * G, s += (O.b = E = H[o + 2]) * G, t += (O.a = F = H[o + 3]) * G, y += C, z += D, A += E, B += F, O = O.next, l < K && (n += d);
            for (o = j, Q = N, R = P, k = 0; k < e; k++) m = o << 2, H[m + 3] = F = t * S >> T, F > 0 ? (F = 255 / F, H[m] = (q * S >> T) * F, H[m + 1] = (r * S >> T) * F, H[m + 2] = (s * S >> T) * F) : H[m] = H[m + 1] = H[m + 2] = 0, q -= u, r -= v, s -= w, t -= x, u -= Q.r, v -= Q.g, w -= Q.b, x -= Q.a, m = j + ((m = k + L) < K ? m : K) * d << 2, q += y += Q.r = H[m], r += z += Q.g = H[m + 1], s += A += Q.b = H[m + 2], t += B += Q.a = H[m + 3], Q = Q.next, u += C = R.r, v += D = R.g, w += E = R.b, x += F = R.a, y -= C, z -= D, A -= E, B -= F, R = R.next, o += d
        }
        h.putImageData(g, b, c)
    }
}

function BlurStack() {
    this.r = 0, this.g = 0, this.b = 0, this.a = 0, this.next = null
}

function logo() {
    $("#cmuelogoblock").clone().prependTo("#menuContain")
}

function mobiControls() {
    $(".menuContain a, input, button, .menuClose, li.magCell:not(.is-selected) a").not('#submit404').not('#searchTextBelow').not('#search-trigger').not('.flickity-prev-next-button').attr("tabindex", -1), $(".mobiControl").click(function(a) {
        a.preventDefault(), $(".mainMenu").toggleClass("mobiClosed mobiOpened").attr("aria-hidden", "false"), $(".headerSite").toggleClass("mobiOpen"), $(".mobiControl").hide().attr("aria-expanded", "true"), $(".menuContain a, input, button, .menuClose").attr("tabindex", 0)
    }), $("#mobiControlHome").click(function(a) {
        a.preventDefault(), $("#socialFeed").slideUp("slow", function() {
            $(".mainMenu").toggleClass("mobiClosed mobiOpened").attr("aria-hidden", "false"), $(".headerSite").toggleClass("mobiOpen"), $(".mobiControlHome").hide().attr("aria-expanded", "true"), $(".reopen").addClass("on"), $(".menuContain a, input, button, .menuClose").attr("tabindex", 0), $("#socialFeed").attr("aria-hidden", "true")
        })
    }), $("#menuClose").keydown(function(a) {
        13 == a.keyCode && $(".menuClose").trigger("click")
    }), $(".menuClose").click(function() {
        $(".mainMenu").toggleClass("mobiClosed mobiOpened").attr("aria-hidden", "true"), $(".headerSite").toggleClass("mobiOpen"), $(".mobiControl").show(), $(".mobiControlHome").show().attr("aria-expanded", "false"), $(".menuContain a, input, button, .menuClose").not('.flickity-prev-next-button').not('#search-trigger').attr("tabindex", -1)
    })
}

function departmentMobi() {
    var a = function() {
        $(".header-depart-pri").toggleClass("on"); 
        $("body").toggleClass("deptmobinav-on");
          if($(".header-depart-pri").hasClass("on")){
                $("#departMobiTriggers").attr("aria-expanded", "true");
            } 
            else{
                  $("#departMobiTriggers").attr("aria-expanded", "false");
            }
    };
    $("#departMobiTriggers").bind("click", a)
}

function killDepartmentMobi() {
    $(".header-depart-pri").removeClass("on"), $("body").removeClass("deptmobinav-on"), $("#departMobiTriggers").unbind()
}

function departmentDeskSearch() {
    var a = function() {
        $("#searchWrapDep").toggleClass("on"), $('.searchWrapDep.on #searchText').attr("tabindex", "0"), $('.searchWrapDep.on .submit-but').attr("tabindex", "0"), $("#search-trigger").toggleClass("on")
    };
    $("#search-trigger").bind("click", a)
}

function killdepartmentDeskSearch() {
    $("#searchWrapDep").removeClass("on"), $("#search-trigger").removeClass("on"), $("#search-trigger").unbind()
}

function priorityNavGo() {
    document.querySelector("#department-nav"), priorityNav.init({
        mainNavWrapper: "#department-nav",
        breakPoint: 0
    })
}

function matchheights() {
    $(".topicRow .microblock").matchHeight(), $(".topicRow .mb").matchHeight(), $(".eventsListBasic li").matchHeight(), $(".eventsList li").matchHeight(), $(".redLinkList li").matchHeight()
}

function mobiMoreTopics() {
    $("#mobiMoreTopics").hide(), $("#loadMore").click(function() {
        $("#mobiMoreTopics").slideDown("slow", function() {
            $(".loadmore").slideUp("slow")
        })
    })
}

function tempMoreTopics() {
    $(".moreStories").hide(), $(".loadmore a").click(function() {
        $(this).parent().next(".moreStories").slideDown("slow", function() {
            $(this).prev(".loadmore").slideUp("slow")
        })
    })
}

function tabsnat() {
    $("ul.tabs li").click(function() {
        var a = $(this).attr("data-tab");
        $("ul.tabs li").removeClass("current"), $(".tab-content").removeClass("current"), $(this).addClass("current"), $("#" + a).addClass("current")
    })
}

function checkall() {
    $("#checkall").change(function() {
        $(".ch").prop("checked", $(this).prop("checked"))
    })
}

function inpageNav() {
    $("li.sub .subTrig").addClass("icon-caret-down").attr("tabindex", 0), $("li.sub").addClass("closed"), $("li.sub ul").attr("aria-hidden", "true"), $("li.sub ul a").attr("tabindex", -1), $("body").on("click", "li.sub.closed .subTrig", function() {
        $(this).parent().siblings().removeClass("open").addClass("closed"), $("li.sub ul").attr("aria-hidden", "true"), $("li.sub ul a").attr("tabindex", -1), $(this).parent().removeClass("closed").addClass("open"), $(this).siblings("ul").attr("aria-hidden", "false"), $(this).siblings().find("li a").attr("tabindex", 0)
    }), $("body").on("click", "li.sub.open .subTrig", function() {
        $(this).parent().removeClass("open").addClass("closed"), $("li.sub ul a").attr("tabindex", -1), $("li.sub ul").attr("aria-hidden", "true")
    }), $("li.sub .subTrig").keydown(function(a) {
        13 == a.keyCode && $(this).trigger("click")
    })
}

function faqs() {
    $(".question span").addClass("icon-caret-down"), $(".question").addClass("closed").attr("tabindex", 0), $(".answer").attr("aria-hidden", "true"), $("body").on("click", ".question.closed", function () {
        $(this).removeClass("closed").addClass("open"), $(this).next().attr("aria-hidden", "false"), $(this).next().show(),  $(this).find("span").removeClass("icon-caret-down").addClass("icon-caret-up")
    }), $("body").on("click", ".question.open", function () {
        $(this).removeClass("open").addClass("closed"), $(this).next().attr("aria-hidden", "true"), $(this).next().hide(),  $(this).find("span").removeClass("icon-caret-up").addClass("icon-caret-down")
    }), $(".question").keydown(function (a) {
        13 == a.keyCode && $(this).trigger("click")
    })
}

function randomBackground() {
    $(".randombg").RandBG({
        ClassPrefix: "bg",
        count: 5
    })
}

function skipLinks() {
    $(".hideFocus").click(function(a) {
        var b = "#" + this.href.split("#")[1];
        $(b).attr("tabindex", -1).on("blur focusout", function() {
            $(this).removeAttr("tabindex")
        }).focus()
    })
}

function filterFaculty() {
    $("#facultySort li span:not(#allInterests)").on("click", function () {
    	var sortClass = $(this).attr("class");
    	$(this).addClass("active");
    	$('h4.browseFaculty').hide();
        $('.facultyList li:not(' + sortClass + ')').hide();
        $('.facultyList li.' + sortClass).show();
        $.each($('h4.browseFaculty'), function(){
           if($(this).next().children(':visible').length > 0) {
               $(this).show();
            }
        });
        $('#facultySort li span:not(.' + sortClass + ')').removeClass("active");
    });
    $("#allInterests").on("click", function () {
        $('.facultyList li').show();
        $('#facultySort li span').removeClass("active");
        $(this).addClass("active");
        $('h4.browseFaculty').show();
    });
}

function funkyBlur() {
    var a = 90,
        b = [];
    $(".blurBG").each(function() {
        b.push($(this).data("img"))
    });
    var c = function(b, c, d) {
        var e = b.width,
            f = b.height,
            g = b.getContext("2d");
        g.drawImage(c, 0, 0, e, f), g.fillStyle = "rgba(0, 0, 0," + d + ")", g.fillRect(0, 0, e, f), stackBlurCanvasRGBA(b, 0, 0, e, f, a)
    };
    $(".blurBG").each(function(a) {
        var d = $(this)[0],
            e = d.getAttribute("data-opacity"),
            f = new Image;
            f.crossOrigin = "Anonymous";
        f.src = b[a], f.onload = function() {
            c(d, f, e)
        }
    })
}

function numNav() {
    $("div.num").each(function(a) {
        a += 1; 
        $(this).attr("id", "section-" + a); 
        if(a < 10){
            $(this).prepend("<span aria-label='section " + a + "'>0" + a + "</span>");
        }
        else{
             $(this).prepend("<span aria-label='section " + a + "'>" + a + "</span>");
        }
        
    }), $.each($(".num span"), function(a, b) {
        var visNum = a + 1;
        $("#numNavList").append('<li><a href="#anchor-' + a + '" class="anchor-' + a + '" aria-label="link to page section 0' + visNum + '">' + $(this).html() + "</a></li>"), $(this).closest("article.base, section, article.topicArticle, article.articleMain").wrapInner('<div class="numWrap" id="anchor-' + a + '"></div>')
    }), $.each($(".numWrap"), function(a, b) {
        var c = ".anchor-" + a;
        var testNum = a + 1;
        $(this).on("inview", function(a, b) {
            b ? ($(c).addClass("on"), $(c).attr("aria-label", "link for page section 0" + testNum + " which is the current section")) : ($(c).removeClass("on"), $(c).attr("aria-label", "link to page section " + testNum));
        })
    })
}

function addEffects() {
    $(".miniNav a span, .headerTitle h1").delay(1500).queue(function() {
        $(this).addClass("effect"), $(this).dequeue()
    }), $(".afterline").on("inview", function(a, b) {
        b && $(this).addClass("effect")
    })
}

function sectionFade() {
    $("section").on("inview", function(a, b) {
        b && $(this).removeClass("offset")
    })
}

function videoCarousel() {
    var a = $(".vidcarousel").flickity(),
        b = a.data("flickity");
    a.on("select.flickity", function() {
        console.log("Flickity select " + b.selectedIndex), $(".ytvid").each(function(a) {
            $(this).tubeplayer("pause")
        })
    })
}

function yTuber() {
    $(".ytvid").each(function(a) {
        var b = $(this).attr("data-vidid");
        console.log(b), $(this).tubeplayer({
            initialVideo: b,
            width: 1280,
            height: 720,
            modestbranding: !1
        })
    }), $(".ytvidcall").each(function(a) {
        var b = $(this).attr("data-vidid");
        console.log(b), $(this).tubeplayer({
            initialVideo: b,
            width: 1280,
            height: 720,
            modestbranding: !1,
            onPlayerPlaying: function() {
                console.log("playing"), $("h4.afterline").addClass("fadeoutlrg"), $(".articleInfo").fadeOut("fadeoutlrg"), $(".fitvid").css("opacity", "1"), $(".videoEmbed").css("z-index", "999999")
            }
        })
    })
}

function hoverOn() {
    $(".coursesTable a").hover(function() {
        $(this).closest("tr").toggleClass("hoveron")
    })
}

function subnavClone() {
    $(".inPageNav.researchSub").clone().appendTo(".inpageMobiNav"), $("#subMenuToggle").click(function() {
        $("#inpageMobiNav").slideToggle("slow", function() {
            $("#subMenuToggle").toggleClass("on");
            if($("#subMenuToggle").hasClass("on")){
                $("#subMenuToggle a.mobiControlHome").attr("aria-label", "Close Page Navigation Menu").attr("aria-expanded", "true");
                 $("#inpageMobiNav").attr("aria-hidden", "false");
            } 
            else{
                 $("#subMenuToggle a.mobiControlHome").attr("aria-label", "Open Page Navigation").attr("aria-expanded", "false");
                 $("#inpageMobiNav").attr("aria-hidden", "true");
            }
        })
    })
}

function setJsBreaks() {
    jQuery(window).setBreakpoints({
        distinct: !0,
        breakpoints: [1, 640, 1200]
    }), jQuery(window).bind("enterBreakpoint1", function() {
        mobiMoreTopics(), departmentMobi(), killdepartmentDeskSearch()
    }), jQuery(window).bind("exitBreakpoint1", function() {
        killDepartmentMobi()
    }), jQuery(window).bind("enterBreakpoint640", function() {
        departmentDeskSearch()
    }), jQuery(window).bind("exitBreakpoint640", function() {
        killDepartmentMobi()
    }), jQuery(window).bind("enterBreakpoint1200", function() {
        departmentDeskSearch()
    }), jQuery(window).bind("exitBreakpoint1200", function() {
        killDepartmentMobi()
    })
}

function showhidenat() {
    $(".showHide .showhide_content").hide(), $(".showHide .showhide_trig button").attr("tabindex", 0), $(".showHide .showhide_trig button").click(function() {
        $(this).toggleClass("on"), $(this).parents().next(".showhide_content").slideToggle("slow")
    }), $(".showHide .showhide_trig").keydown(function(a) {
        13 == a.keyCode && $(this).trigger("click")
    })
}

function loadmore() {
    $(".loadmore-pop .loadmore-content").hide(), $(".loadmore-pop .loadmore a").click(function() {
        $(this).parents().next(".loadmore-content").slideToggle("slow"), $(this).parent().slideToggle("slow")
    })
}

function smooth() {
    $('a[href*="#"]:not([href="#"])').click(function() {
        if (location.pathname.replace(/^\//, "") == this.pathname.replace(/^\//, "") && location.hostname == this.hostname) {
            var a = $(this.hash);
            if (a = a.length ? a : $("[name=" + this.hash.slice(1) + "]"), a.length) return $("html, body").animate({
                scrollTop: a.offset().top
            }, 1e3), !1
        }
    })
}

function gmapsTakeover() {
    $(".googlemapEmbed iframe").css("pointer-events", "none"), $(".googlemapEmbed").click(function() {
        $(this).find("iframe").css("pointer-events", "auto")
    }), $(".googlemapEmbed").mouseleave(function() {
        $(this).find("iframe").css("pointer-events", "none"), $(this).removeData("oldmousepos")
    }), $(".googlemapEmbed").bind("mousemove", function(a) {
        $this = $(this), $this.data("mousepos", a.pageX), null === $this.data("oldmousepos") && $this.data("oldmousepos", $this.data("mousepos")), setTimeout(function() {
            $this.data("oldmousepos") != $this.data("mousepos") && $this.find("iframe").css("pointer-events", "auto"), $this.data("oldmousepos", $this.data("mousepos"))
        }, 300), console.log($this.data("oldmousepos") + " " + $this.data("mousepos"))
    })
}

function clickTableRow() {
    $(".coursesTable:not(.noClickTable) tbody tr").each(function() {
        var a = $(this).find(".rowLink").attr("href");
        $(this).on("click", function() {
            window.open(a, "_blank");
            return false;
        }).on("mouseenter", function() {
            $(this).addClass("clickTableRow")
        }).on("mouseleave", function() {
            $(this).removeClass("clickTableRow")
        })
    })
}

function brandAni() {
    $(".aniInView").on("inview", function(a, b) {
        b ? $(this).addClass("ani") : $(this).removeClass("ani")
    })
}

function triangleParallax() {
    for (var a = $(window).scrollTop(), b = $(".triangleParallax svg"), c = 0, d = b.length; c < d; c++) {
        var e = -(a * (.2 * c)) + "px";
       $(b[0]).css({
            "-webkit-transform": "translateY(" + e + ")"
        }), $(b[c]).css({
            "-webkit-transform": "translateY(" + e + ")"
        })
    }
}! function(a) {
    var b = 0,
        c = null;
    a.fn.resetBreakpoints = function() {
        a(window).unbind("resize"), c && clearInterval(c), b = 0
    }, a.fn.setBreakpoints = function(d) {
        var e = jQuery.extend({
            distinct: !0,
            breakpoints: new Array(320, 480, 768, 1024)
        }, d);
        c = setInterval(function() {
            var c = a(window).width(),
                d = !1;
            for (var f in e.breakpoints.sort(function(a, b) {
                    return b - a
                })) {
                if (!d && c >= e.breakpoints[f] && b < e.breakpoints[f]) {
                    if (e.distinct) {
                        for (var g in e.breakpoints.sort(function(a, b) {
                                return b - a
                            })) a("body").hasClass("breakpoint-" + e.breakpoints[g]) && (a("body").removeClass("breakpoint-" + e.breakpoints[g]), a(window).trigger("exitBreakpoint" + e.breakpoints[g]));
                        d = !0
                    }
                    a("body").addClass("breakpoint-" + e.breakpoints[f]), a(window).trigger("enterBreakpoint" + e.breakpoints[f])
                }
                c < e.breakpoints[f] && b >= e.breakpoints[f] && (a("body").removeClass("breakpoint-" + e.breakpoints[f]), a(window).trigger("exitBreakpoint" + e.breakpoints[f])), e.distinct && c >= e.breakpoints[f] && c < e.breakpoints[f - 1] && b > c && b > 0 && !a("body").hasClass("breakpoint-" + e.breakpoints[f]) && (a("body").addClass("breakpoint-" + e.breakpoints[f]), a(window).trigger("enterBreakpoint" + e.breakpoints[f]))
            }
            b != c && (b = c)
        }, 250)
    }
}(jQuery),
function(a, b) {
    "function" == typeof define && define.amd ? define("jquery-bridget/jquery-bridget", ["jquery"], function(c) {
        return b(a, c)
    }) : "object" == typeof module && module.exports ? module.exports = b(a, require("jquery")) : a.jQueryBridget = b(a, a.jQuery)
}(window, function(a, b) {
    "use strict";

    function c(c, f, h) {
        function i(a, b, d) {
            var e, f = "$()." + c + '("' + b + '")';
            return a.each(function(a, i) {
                var j = h.data(i, c);
                if (!j) return void g(c + " not initialized. Cannot call methods, i.e. " + f);
                var k = j[b];
                if (!k || "_" == b.charAt(0)) return void g(f + " is not a valid method");
                var l = k.apply(j, d);
                e = void 0 === e ? l : e
            }), void 0 !== e ? e : a
        }

        function j(a, b) {
            a.each(function(a, d) {
                var e = h.data(d, c);
                e ? (e.option(b), e._init()) : (e = new f(d, b), h.data(d, c, e))
            })
        }
        h = h || b || a.jQuery, h && (f.prototype.option || (f.prototype.option = function(a) {
            h.isPlainObject(a) && (this.options = h.extend(!0, this.options, a))
        }), h.fn[c] = function(a) {
            if ("string" == typeof a) {
                var b = e.call(arguments, 1);
                return i(this, a, b)
            }
            return j(this, a), this
        }, d(h))
    }

    function d(a) {
        !a || a && a.bridget || (a.bridget = c)
    }
    var e = Array.prototype.slice,
        f = a.console,
        g = "undefined" == typeof f ? function() {} : function(a) {
            f.error(a)
        };
    return d(b || a.jQuery), c
}),
function(a, b) {
    "function" == typeof define && define.amd ? define("ev-emitter/ev-emitter", b) : "object" == typeof module && module.exports ? module.exports = b() : a.EvEmitter = b()
}("undefined" != typeof window ? window : this, function() {
    function a() {}
    var b = a.prototype;
    return b.on = function(a, b) {
        if (a && b) {
            var c = this._events = this._events || {},
                d = c[a] = c[a] || [];
            return d.indexOf(b) == -1 && d.push(b), this
        }
    }, b.once = function(a, b) {
        if (a && b) {
            this.on(a, b);
            var c = this._onceEvents = this._onceEvents || {},
                d = c[a] = c[a] || {};
            return d[b] = !0, this
        }
    }, b.off = function(a, b) {
        var c = this._events && this._events[a];
        if (c && c.length) {
            var d = c.indexOf(b);
            return d != -1 && c.splice(d, 1), this
        }
    }, b.emitEvent = function(a, b) {
        var c = this._events && this._events[a];
        if (c && c.length) {
            var d = 0,
                e = c[d];
            b = b || [];
            for (var f = this._onceEvents && this._onceEvents[a]; e;) {
                var g = f && f[e];
                g && (this.off(a, e), delete f[e]), e.apply(this, b), d += g ? 0 : 1, e = c[d]
            }
            return this
        }
    }, a
}),
function(a, b) {
    "use strict";
    "function" == typeof define && define.amd ? define("get-size/get-size", [], function() {
        return b()
    }) : "object" == typeof module && module.exports ? module.exports = b() : a.getSize = b()
}(window, function() {
    "use strict";

    function a(a) {
        var b = parseFloat(a),
            c = a.indexOf("%") == -1 && !isNaN(b);
        return c && b
    }

    function b() {}

    function c() {
        for (var a = {
                width: 0,
                height: 0,
                innerWidth: 0,
                innerHeight: 0,
                outerWidth: 0,
                outerHeight: 0
            }, b = 0; b < j; b++) {
            var c = i[b];
            a[c] = 0
        }
        return a
    }

    function d(a) {
        var b = getComputedStyle(a);
        return b || h("Style returned " + b + ". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"), b
    }

    function e() {
        if (!k) {
            k = !0;
            var b = document.createElement("div");
            b.style.width = "200px", b.style.padding = "1px 2px 3px 4px", b.style.borderStyle = "solid", b.style.borderWidth = "1px 2px 3px 4px", b.style.boxSizing = "border-box";
            var c = document.body || document.documentElement;
            c.appendChild(b);
            var e = d(b);
            f.isBoxSizeOuter = g = 200 == a(e.width), c.removeChild(b)
        }
    }

    function f(b) {
        if (e(), "string" == typeof b && (b = document.querySelector(b)), b && "object" == typeof b && b.nodeType) {
            var f = d(b);
            if ("none" == f.display) return c();
            var h = {};
            h.width = b.offsetWidth, h.height = b.offsetHeight;
            for (var k = h.isBorderBox = "border-box" == f.boxSizing, l = 0; l < j; l++) {
                var m = i[l],
                    n = f[m],
                    o = parseFloat(n);
                h[m] = isNaN(o) ? 0 : o
            }
            var p = h.paddingLeft + h.paddingRight,
                q = h.paddingTop + h.paddingBottom,
                r = h.marginLeft + h.marginRight,
                s = h.marginTop + h.marginBottom,
                t = h.borderLeftWidth + h.borderRightWidth,
                u = h.borderTopWidth + h.borderBottomWidth,
                v = k && g,
                w = a(f.width);
            w !== !1 && (h.width = w + (v ? 0 : p + t));
            var x = a(f.height);
            return x !== !1 && (h.height = x + (v ? 0 : q + u)), h.innerWidth = h.width - (p + t), h.innerHeight = h.height - (q + u), h.outerWidth = h.width + r, h.outerHeight = h.height + s, h
        }
    }
    var g, h = "undefined" == typeof console ? b : function(a) {
            console.error(a)
        },
        i = ["paddingLeft", "paddingRight", "paddingTop", "paddingBottom", "marginLeft", "marginRight", "marginTop", "marginBottom", "borderLeftWidth", "borderRightWidth", "borderTopWidth", "borderBottomWidth"],
        j = i.length,
        k = !1;
    return f
}),
function(a, b) {
    "use strict";
    "function" == typeof define && define.amd ? define("desandro-matches-selector/matches-selector", b) : "object" == typeof module && module.exports ? module.exports = b() : a.matchesSelector = b()
}(window, function() {
    "use strict";
    var a = function() {
        var a = Element.prototype;
        if (a.matches) return "matches";
        if (a.matchesSelector) return "matchesSelector";
        for (var b = ["webkit", "moz", "ms", "o"], c = 0; c < b.length; c++) {
            var d = b[c],
                e = d + "MatchesSelector";
            if (a[e]) return e
        }
    }();
    return function(b, c) {
        return b[a](c)
    }
}),
function(a, b) {
    "function" == typeof define && define.amd ? define("fizzy-ui-utils/utils", ["desandro-matches-selector/matches-selector"], function(c) {
        return b(a, c)
    }) : "object" == typeof module && module.exports ? module.exports = b(a, require("desandro-matches-selector")) : a.fizzyUIUtils = b(a, a.matchesSelector)
}(window, function(a, b) {
    var c = {};
    c.extend = function(a, b) {
        for (var c in b) a[c] = b[c];
        return a
    }, c.modulo = function(a, b) {
        return (a % b + b) % b
    }, c.makeArray = function(a) {
        var b = [];
        if (Array.isArray(a)) b = a;
        else if (a && "number" == typeof a.length)
            for (var c = 0; c < a.length; c++) b.push(a[c]);
        else b.push(a);
        return b
    }, c.removeFrom = function(a, b) {
        var c = a.indexOf(b);
        c != -1 && a.splice(c, 1)
    }, c.getParent = function(a, c) {
        for (; a != document.body;)
            if (a = a.parentNode, b(a, c)) return a
    }, c.getQueryElement = function(a) {
        return "string" == typeof a ? document.querySelector(a) : a
    }, c.handleEvent = function(a) {
        var b = "on" + a.type;
        this[b] && this[b](a)
    }, c.filterFindElements = function(a, d) {
        a = c.makeArray(a);
        var e = [];
        return a.forEach(function(a) {
            if (a instanceof HTMLElement) {
                if (!d) return void e.push(a);
                b(a, d) && e.push(a);
                for (var c = a.querySelectorAll(d), f = 0; f < c.length; f++) e.push(c[f])
            }
        }), e
    }, c.debounceMethod = function(a, b, c) {
        var d = a.prototype[b],
            e = b + "Timeout";
        a.prototype[b] = function() {
            var a = this[e];
            a && clearTimeout(a);
            var b = arguments,
                f = this;
            this[e] = setTimeout(function() {
                d.apply(f, b), delete f[e]
            }, c || 100)
        }
    }, c.docReady = function(a) {
        var b = document.readyState;
        "complete" == b || "interactive" == b ? setTimeout(a) : document.addEventListener("DOMContentLoaded", a)
    }, c.toDashed = function(a) {
        return a.replace(/(.)([A-Z])/g, function(a, b, c) {
            return b + "-" + c
        }).toLowerCase()
    };
    var d = a.console;
    return c.htmlInit = function(b, e) {
        c.docReady(function() {
            var f = c.toDashed(e),
                g = "data-" + f,
                h = document.querySelectorAll("[" + g + "]"),
                i = document.querySelectorAll(".js-" + f),
                j = c.makeArray(h).concat(c.makeArray(i)),
                k = g + "-options",
                l = a.jQuery;
            j.forEach(function(a) {
                var c, f = a.getAttribute(g) || a.getAttribute(k);
                try {
                    c = f && JSON.parse(f)
                } catch (h) {
                    return void(d && d.error("Error parsing " + g + " on " + a.className + ": " + h))
                }
                var i = new b(a, c);
                l && l.data(a, e, i)
            })
        })
    }, c
}),
function(a, b) {
    "function" == typeof define && define.amd ? define("flickity/js/cell", ["get-size/get-size"], function(c) {
        return b(a, c)
    }) : "object" == typeof module && module.exports ? module.exports = b(a, require("get-size")) : (a.Flickity = a.Flickity || {}, a.Flickity.Cell = b(a, a.getSize))
}(window, function(a, b) {
    function c(a, b) {
        this.element = a, this.parent = b, this.create()
    }
    var d = c.prototype;
    return d.create = function() {
        this.element.style.position = "absolute", this.x = 0, this.shift = 0
    }, d.destroy = function() {
        this.element.style.position = "";
        var a = this.parent.originSide;
        this.element.style[a] = ""
    }, d.getSize = function() {
        this.size = b(this.element)
    }, d.setPosition = function(a) {
        this.x = a, this.updateTarget(), this.renderPosition(a)
    }, d.updateTarget = d.setDefaultTarget = function() {
        var a = "left" == this.parent.originSide ? "marginLeft" : "marginRight";
        this.target = this.x + this.size[a] + this.size.width * this.parent.cellAlign
    }, d.renderPosition = function(a) {
        var b = this.parent.originSide;
        this.element.style[b] = this.parent.getPositionValue(a)
    }, d.wrapShift = function(a) {
        this.shift = a, this.renderPosition(this.x + this.parent.slideableWidth * a)
    }, d.remove = function() {
        this.element.parentNode.removeChild(this.element)
    }, c
}),
function(a, b) {
    "function" == typeof define && define.amd ? define("flickity/js/slide", b) : "object" == typeof module && module.exports ? module.exports = b() : (a.Flickity = a.Flickity || {}, a.Flickity.Slide = b())
}(window, function() {
    "use strict";

    function a(a) {
        this.parent = a, this.isOriginLeft = "left" == a.originSide, this.cells = [], this.outerWidth = 0, this.height = 0
    }
    var b = a.prototype;
    return b.addCell = function(a) {
        if (this.cells.push(a), this.outerWidth += a.size.outerWidth, this.height = Math.max(a.size.outerHeight, this.height), 1 == this.cells.length) {
            this.x = a.x;
            var b = this.isOriginLeft ? "marginLeft" : "marginRight";
            this.firstMargin = a.size[b]
        }
    }, b.updateTarget = function() {
        var a = this.isOriginLeft ? "marginRight" : "marginLeft",
            b = this.getLastCell(),
            c = b ? b.size[a] : 0,
            d = this.outerWidth - (this.firstMargin + c);
        this.target = this.x + this.firstMargin + d * this.parent.cellAlign
    }, b.getLastCell = function() {
        return this.cells[this.cells.length - 1]
    }, b.select = function() {
        this.changeSelectedClass("add")
    }, b.unselect = function() {
        this.changeSelectedClass("remove")
    }, b.changeSelectedClass = function(a) {
        
        this.cells.forEach(function(b, elIndex, buttonArray) {
            b.element.classList[a]("is-selected"); 
            if(a == "add"){
                 b.element.setAttribute('aria-hidden', 'false');
                
                     if(typeof b.element.querySelector('a') !== 'undefined' && b.element.querySelector('a') != null){
                        if(b.element.classList.contains('magCell')){
                            b.element.querySelectorAll('a').forEach(function(qLink) {
                               qLink.setAttribute('tabindex', '0');
                            });
                        }
                        else{
                             b.element.querySelector('a').setAttribute('tabindex', '0');
                        }
                     }
                     
                  if(window.innerWidth > 1199 && carouselGroupCells){ 
                    if(starter == 1 && elIndex == 1){
                        b.element.setAttribute('tabindex', '0');
                        whichOne = b.element;
                    } 
                    else if(starter == 2 && elIndex == 0){
                         b.element.setAttribute('tabindex', '0');
                         whichOne = b.element;
                    }
                    else if(b.element.closest('.newsletterslider') != null || b.element.closest('.partnerSlider') != null || b.element.closest('.dualslider') != null){
                    b.element.setAttribute('tabindex', '0');
                }
                }else if(elIndex == 0){
                        b.element.setAttribute('tabindex', '0');
                        whichOne = b.element;
                }
                else if(b.element.closest('.newsletterslider') != null || b.element.closest('.partnerSlider') != null || b.element.closest('.dualslider') != null){
                    b.element.setAttribute('tabindex', '0');
                }
            }
            else if(a == "remove"){
                 b.element.setAttribute('aria-hidden', 'true');
                  b.element.setAttribute('tabindex', '-1');
               if(typeof b.element.querySelector('a') !== 'undefined' && b.element.querySelector('a') != null){
                 b.element.querySelector('a').setAttribute('tabindex', '-1');
                  if(b.element.classList.contains('magCell')){
                        b.element.querySelectorAll('a').forEach(function(qLink) {
                            qLink.setAttribute('tabindex', '-1');
                        });
                    }
               }
            }
        })
    }, b.getCellElements = function() {
        return this.cells.map(function(a) {
            return a.element
        })
    }, a
}),
function(a, b) {
    "function" == typeof define && define.amd ? define("flickity/js/animate", ["fizzy-ui-utils/utils"], function(c) {
        return b(a, c)
    }) : "object" == typeof module && module.exports ? module.exports = b(a, require("fizzy-ui-utils")) : (a.Flickity = a.Flickity || {}, a.Flickity.animatePrototype = b(a, a.fizzyUIUtils))
}(window, function(a, b) {
    var c = a.requestAnimationFrame || a.webkitRequestAnimationFrame,
        d = 0;
    c || (c = function(a) {
        var b = (new Date).getTime(),
            c = Math.max(0, 16 - (b - d)),
            e = setTimeout(a, c);
        return d = b + c, e
    });
    var e = {};
    e.startAnimation = function() {
        this.isAnimating || (this.isAnimating = !0, this.restingFrames = 0, this.animate())
    }, e.animate = function() {
        this.applyDragForce(), this.applySelectedAttraction();
        var a = this.x;
        if (this.integratePhysics(), this.positionSlider(), this.settle(a), this.isAnimating) {
            var b = this;
            c(function () {
                b.animate()
            })
        }else{
            if(typeof whichOne !== 'undefined' && whichOne != "" &&  starter > 0){
                whichOne.focus();
               
            }
        }; 
    };
    var f = function() {
        var a = document.documentElement.style;
        return "string" == typeof a.transform ? "transform" : "WebkitTransform"
    }();
    return e.positionSlider = function() {
        var a = this.x;
        this.options.wrapAround && this.cells.length > 1 && (a = b.modulo(a, this.slideableWidth), a -= this.slideableWidth, this.shiftWrapCells(a)), a += this.cursorPosition, a = this.options.rightToLeft && f ? -a : a;
        var c = this.getPositionValue(a);
        this.slider.style[f] = this.isAnimating ? "translate3d(" + c + ",0,0)" : "translateX(" + c + ")";
        var d = this.slides[0];
        if (d) {
            var e = -this.x - d.target,
                g = e / this.slidesWidth;
            this.dispatchEvent("scroll", null, [g, e])
        }
    }, e.positionSliderAtSelected = function() {
        this.cells.length && (this.x = -this.selectedSlide.target, this.positionSlider())
    }, e.getPositionValue = function(a) {
        return this.options.percentPosition ? .01 * Math.round(a / this.size.innerWidth * 1e4) + "%" : Math.round(a) + "px"
    }, e.settle = function(a) {
        this.isPointerDown || Math.round(100 * this.x) != Math.round(100 * a) || this.restingFrames++, this.restingFrames > 2 && (this.isAnimating = !1, delete this.isFreeScrolling, this.positionSlider(), this.dispatchEvent("settle"))
    }, e.shiftWrapCells = function(a) {
        var b = this.cursorPosition + a;
        this._shiftCells(this.beforeShiftCells, b, -1);
        var c = this.size.innerWidth - (a + this.slideableWidth + this.cursorPosition);
        this._shiftCells(this.afterShiftCells, c, 1)
    }, e._shiftCells = function(a, b, c) {
        for (var d = 0; d < a.length; d++) {
            var e = a[d],
                f = b > 0 ? c : 0;
            e.wrapShift(f), b -= e.size.outerWidth
        }
    }, e._unshiftCells = function(a) {
        if (a && a.length)
            for (var b = 0; b < a.length; b++) a[b].wrapShift(0)
    }, e.integratePhysics = function() {
        this.x += this.velocity, this.velocity *= this.getFrictionFactor()
    }, e.applyForce = function(a) {
        this.velocity += a
    }, e.getFrictionFactor = function() {
        return 1 - this.options[this.isFreeScrolling ? "freeScrollFriction" : "friction"]
    }, e.getRestingPosition = function() {
        return this.x + this.velocity / (1 - this.getFrictionFactor())
    }, e.applyDragForce = function() {
        if (this.isPointerDown) {
            var a = this.dragX - this.x,
                b = a - this.velocity;
            this.applyForce(b)
        }
    }, e.applySelectedAttraction = function() {
        if (!this.isPointerDown && !this.isFreeScrolling && this.cells.length) {
            var a = this.selectedSlide.target * -1 - this.x,
                b = a * this.options.selectedAttraction;
            this.applyForce(b)
        }
    }, e
}),
function(a, b) {
    if ("function" == typeof define && define.amd) define("flickity/js/flickity", ["ev-emitter/ev-emitter", "get-size/get-size", "fizzy-ui-utils/utils", "./cell", "./slide", "./animate"], function(c, d, e, f, g, h) {
        return b(a, c, d, e, f, g, h)
    });
    else if ("object" == typeof module && module.exports) module.exports = b(a, require("ev-emitter"), require("get-size"), require("fizzy-ui-utils"), require("./cell"), require("./slide"), require("./animate"));
    else {
        var c = a.Flickity;
        a.Flickity = b(a, a.EvEmitter, a.getSize, a.fizzyUIUtils, c.Cell, c.Slide, c.animatePrototype)
    }
}(window, function(a, b, c, d, e, f, g) {
    function h(a, b) {
        for (a = d.makeArray(a); a.length;) b.appendChild(a.shift())
    }

    function i(a, b) {
        var c = d.getQueryElement(a);
        if (!c) return void(l && l.error("Bad element for Flickity: " + (c || a)));
        if (this.element = c, this.element.flickityGUID) {
            var e = n[this.element.flickityGUID];
            return e.option(b), e
        }
        j && (this.$element = j(this.element)), this.options = d.extend({}, this.constructor.defaults), this.option(b), this._create()
    }
    var j = a.jQuery,
        k = a.getComputedStyle,
        l = a.console,
        m = 0,
        n = {};
    i.defaults = {
        accessibility: !0,
        cellAlign: "center",
        freeScrollFriction: .075,
        friction: .28,
        namespaceJQueryEvents: !0,
        percentPosition: !0,
        resize: !0,
        selectedAttraction: .025,
        setGallerySize: !0
    }, i.createMethods = [];
    var o = i.prototype;
    d.extend(o, b.prototype), o._create = function() {
        var b = this.guid = ++m;
        this.element.flickityGUID = b, n[b] = this, this.selectedIndex = 0, this.restingFrames = 0, this.x = 0, this.velocity = 0, this.originSide = this.options.rightToLeft ? "right" : "left", this.viewport = document.createElement("div"), this.viewport.className = "flickity-viewport", this._createSlider(), (this.options.resize || this.options.watchCSS) && a.addEventListener("resize", this), i.createMethods.forEach(function(a) {
            this[a]()
        }, this), this.options.watchCSS ? this.watchCSS() : this.activate()
    }, o.option = function(a) {
        d.extend(this.options, a)
    }, o.activate = function() {
        if (!this.isActive) {
            this.isActive = !0, this.element.classList.add("flickity-enabled"), this.options.rightToLeft && this.element.classList.add("flickity-rtl"), this.getSize();
            var a = this._filterFindCellElements(this.element.children);
            h(a, this.slider), this.viewport.appendChild(this.slider), this.element.appendChild(this.viewport), this.reloadCells(), this.options.accessibility && (this.element.tabIndex = 0, this.element.addEventListener("keydown", this)), this.emitEvent("activate");
            var b, c = this.options.initialIndex;
            b = this.isInitActivated ? this.selectedIndex : void 0 !== c && this.cells[c] ? c : 0, this.select(b, !1, !0), this.isInitActivated = !0
        }
    }, o._createSlider = function() {
        var a = document.createElement("ul");
        a.className = "flickity-slider", a.style[this.originSide] = 0, a.setAttribute("role", "presentation"), this.slider = a
    }, o._filterFindCellElements = function(a) {
        return d.filterFindElements(a, this.options.cellSelector)
    }, o.reloadCells = function() {
        this.cells = this._makeCells(this.slider.children), this.positionCells(), this._getWrapShiftCells(), this.setGallerySize()
    }, o._makeCells = function(a) {
        var b = this._filterFindCellElements(a),
            c = b.map(function(a) {
                return new e(a, this)
            }, this);
        return c
    }, o.getLastCell = function() {
        return this.cells[this.cells.length - 1]
    }, o.getLastSlide = function() {
        return this.slides[this.slides.length - 1]
    }, o.positionCells = function() {
        this._sizeCells(this.cells), this._positionCells(0)
    }, o._positionCells = function(a) {
        a = a || 0, this.maxCellHeight = a ? this.maxCellHeight || 0 : 0;
        var b = 0;
        if (a > 0) {
            var c = this.cells[a - 1];
            b = c.x + c.size.outerWidth
        }
        for (var d = this.cells.length, e = a; e < d; e++) {
            var f = this.cells[e];
            f.setPosition(b), b += f.size.outerWidth, this.maxCellHeight = Math.max(f.size.outerHeight, this.maxCellHeight)
        }
        this.slideableWidth = b, this.updateSlides(), this._containSlides(), this.slidesWidth = d ? this.getLastSlide().target - this.slides[0].target : 0
    }, o._sizeCells = function(a) {
        a.forEach(function(a) {
            a.getSize()
        })
    }, o.updateSlides = function() {
        if (this.slides = [], this.cells.length) {
            var a = new f(this);
            this.slides.push(a);
            var b = "left" == this.originSide,
                c = b ? "marginRight" : "marginLeft",
                d = this._getCanCellFit();
            this.cells.forEach(function(b, e) {
                if (!a.cells.length) return void a.addCell(b);
                var g = a.outerWidth - a.firstMargin + (b.size.outerWidth - b.size[c]);
                d.call(this, e, g) ? a.addCell(b) : (a.updateTarget(), a = new f(this), this.slides.push(a), a.addCell(b))
            }, this), a.updateTarget(), this.updateSelectedSlide()
        }
    }, o._getCanCellFit = function() {
        var a = this.options.groupCells;
        carouselGroupCells = this.options.groupCells;
        
        if (!a) return function() {
            return !1
        };
        if ("number" == typeof a) {
            var b = parseInt(a, 10);
            return function(a) {
                return a % b !== 0
            }
        }
        var c = "string" == typeof a && a.match(/^(\d+)%$/),
            d = c ? parseInt(c[1], 10) / 100 : 1;
        return function(a, b) {
            return b <= (this.size.innerWidth + 1) * d
        }
    }, o._init = o.reposition = function() {
        this.positionCells(), this.positionSliderAtSelected()
    }, o.getSize = function() {
        this.size = c(this.element), this.setCellAlign(), this.cursorPosition = this.size.innerWidth * this.cellAlign
    };
    var p = {
        center: {
            left: .5,
            right: .5
        },
        left: {
            left: 0,
            right: 1
        },
        right: {
            right: 0,
            left: 1
        }
    };
    return o.setCellAlign = function() {
        var a = p[this.options.cellAlign];
        this.cellAlign = a ? a[this.originSide] : this.options.cellAlign;
    }, o.setGallerySize = function() {
        if (this.options.setGallerySize) {
            var a = this.options.adaptiveHeight && this.selectedSlide ? this.selectedSlide.height : this.maxCellHeight;
            this.viewport.style.height = a + "px";
            this.viewport.style.minHeight = "408px";
        }
    }, o._getWrapShiftCells = function() {
        if (this.options.wrapAround) {
            this._unshiftCells(this.beforeShiftCells), this._unshiftCells(this.afterShiftCells);
            var a = this.cursorPosition,
                b = this.cells.length - 1;
            this.beforeShiftCells = this._getGapCells(a, b, -1), a = this.size.innerWidth - this.cursorPosition, this.afterShiftCells = this._getGapCells(a, 0, 1)
        }
    }, o._getGapCells = function(a, b, c) {
        for (var d = []; a > 0;) {
            var e = this.cells[b];
            if (!e) break;
            d.push(e), b += c, a -= e.size.outerWidth
        }
        return d
    }, o._containSlides = function() {
        if (this.options.contain && !this.options.wrapAround && this.cells.length) {
            var a = this.options.rightToLeft,
                b = a ? "marginRight" : "marginLeft",
                c = a ? "marginLeft" : "marginRight",
                d = this.slideableWidth - this.getLastCell().size[c],
                e = d < this.size.innerWidth,
                f = this.cursorPosition + this.cells[0].size[b],
                g = d - this.size.innerWidth * (1 - this.cellAlign);
            this.slides.forEach(function(a) {
                e ? a.target = d * this.cellAlign : (a.target = Math.max(a.target, f), a.target = Math.min(a.target, g))
            }, this)
        }
    }, o.dispatchEvent = function(a, b, c) {
        var d = b ? [b].concat(c) : c;
        if (this.emitEvent(a, d), j && this.$element) {
            a += this.options.namespaceJQueryEvents ? ".flickity" : "";
            var e = a;
            if (b) {
                var f = j.Event(b);
                f.type = a, e = f
            }
            this.$element.trigger(e, c)
        }
    }, o.select = function(a, b, c) {
        this.isActive && (a = parseInt(a, 10), this._wrapSelect(a), (this.options.wrapAround || b) && (a = d.modulo(a, this.slides.length)), this.slides[a] && (this.selectedIndex = a, this.updateSelectedSlide(), c ? this.positionSliderAtSelected() : this.startAnimation(), this.options.adaptiveHeight && this.setGallerySize(), this.dispatchEvent("select"), this.dispatchEvent("cellSelect")))
    }, o._wrapSelect = function(a) {
        var b = this.slides.length,
            c = this.options.wrapAround && b > 1;
        if (!c) return a;
        var e = d.modulo(a, b),
            f = Math.abs(e - this.selectedIndex),
            g = Math.abs(e + b - this.selectedIndex),
            h = Math.abs(e - b - this.selectedIndex);
        !this.isDragSelect && g < f ? a += b : !this.isDragSelect && h < f && (a -= b), a < 0 ? this.x -= this.slideableWidth : a >= b && (this.x += this.slideableWidth)
    }, o.previous = function(a, b) {
        starter = 2;
        this.select(this.selectedIndex - 1, a, b)
    }, o.next = function(a, b) {
         starter = 1;
        this.select(this.selectedIndex + 1, a, b)
    }, o.updateSelectedSlide = function() {
        var a = this.slides[this.selectedIndex];
        a && (this.unselectSelectedSlide(), this.selectedSlide = a, a.select(), this.selectedCells = a.cells, this.selectedElements = a.getCellElements(), this.selectedCell = a.cells[0], this.selectedElement = this.selectedElements[0])
    }, o.unselectSelectedSlide = function() {
        this.selectedSlide && this.selectedSlide.unselect()
    }, o.selectCell = function(a, b, c) {
        var d;
        "number" == typeof a ? d = this.cells[a] : ("string" == typeof a && (a = this.element.querySelector(a)), d = this.getCell(a));
        for (var e = 0; d && e < this.slides.length; e++) {
            var f = this.slides[e],
                g = f.cells.indexOf(d);
            if (g != -1) return void this.select(e, b, c)
        }
    }, o.getCell = function(a) {
        for (var b = 0; b < this.cells.length; b++) {
            var c = this.cells[b];
            if (c.element == a) return c
        }
    }, o.getCells = function(a) {
        a = d.makeArray(a);
        var b = [];
        return a.forEach(function(a) {
            var c = this.getCell(a);
            c && b.push(c)
        }, this), b
    }, o.getCellElements = function() {
        return this.cells.map(function(a) {
            return a.element
        })
    }, o.getParentCell = function(a) {
        var b = this.getCell(a);
        return b ? b : (a = d.getParent(a, ".flickity-slider > *"), this.getCell(a))
    }, o.getAdjacentCellElements = function(a, b) {
        if (!a) return this.selectedSlide.getCellElements();
        b = void 0 === b ? this.selectedIndex : b;
        var c = this.slides.length;
        if (1 + 2 * a >= c) return this.getCellElements();
        for (var e = [], f = b - a; f <= b + a; f++) {
            var g = this.options.wrapAround ? d.modulo(f, c) : f,
                h = this.slides[g];
            h && (e = e.concat(h.getCellElements()))
        }
        return e
    }, o.uiChange = function() {
        this.emitEvent("uiChange")
    }, o.childUIPointerDown = function(a) {
        this.emitEvent("childUIPointerDown", [a])
    }, o.onresize = function() {
        this.watchCSS(), this.resize()
    }, d.debounceMethod(i, "onresize", 150), o.resize = function() {
        if (this.isActive) {
            this.getSize(), this.options.wrapAround && (this.x = d.modulo(this.x, this.slideableWidth)), this.positionCells(), this._getWrapShiftCells(), this.setGallerySize(), this.emitEvent("resize");
            var a = this.selectedElements && this.selectedElements[0];
            this.selectCell(a, !1, !0)
        }
    }, o.watchCSS = function() {
        var a = this.options.watchCSS;
        if (a) {
            var b = k(this.element, ":after").content;
            b.indexOf("flickity") != -1 ? this.activate() : this.deactivate()
        }
    }, o.onkeydown = function (a) {
        if (this.options.accessibility && (!document.activeElement || document.activeElement == this.element || this.element.contains(document.activeElement)) ){
            if (37 == a.keyCode) {
                var b = this.options.rightToLeft ? "next" : "previous";
                this.uiChange(), this[b]();
                starter = 2;
            } else if (39 == a.keyCode) {
                var c = this.options.rightToLeft ? "previous" : "next";
                this.uiChange(), this[c]();
                starter = 1;
            }
        }
    }, o.deactivate = function() {
        this.isActive && (this.element.classList.remove("flickity-enabled"), this.element.classList.remove("flickity-rtl"), this.cells.forEach(function(a) {
            a.destroy()
        }), this.unselectSelectedSlide(), this.element.removeChild(this.viewport), h(this.slider.children, this.element), this.options.accessibility && (this.element.removeAttribute("tabIndex"), this.element.removeEventListener("keydown", this)), this.isActive = !1, this.emitEvent("deactivate"))
    }, o.destroy = function() {
        this.deactivate(), a.removeEventListener("resize", this), this.emitEvent("destroy"), j && this.$element && j.removeData(this.element, "flickity"), delete this.element.flickityGUID, delete n[this.guid]
    }, d.extend(o, g), i.data = function(a) {
        a = d.getQueryElement(a);
        var b = a && a.flickityGUID;
        return b && n[b]
    }, d.htmlInit(i, "flickity"), j && j.bridget && j.bridget("flickity", i), i.Cell = e, i
}),
function(a, b) {
    "function" == typeof define && define.amd ? define("unipointer/unipointer", ["ev-emitter/ev-emitter"], function(c) {
        return b(a, c)
    }) : "object" == typeof module && module.exports ? module.exports = b(a, require("ev-emitter")) : a.Unipointer = b(a, a.EvEmitter)
}(window, function(a, b) {
    function c() {}

    function d() {}
    var e = d.prototype = Object.create(b.prototype);
    e.bindStartEvent = function(a) {
        this._bindStartEvent(a, !0)
    }, e.unbindStartEvent = function(a) {
        this._bindStartEvent(a, !1)
    }, e._bindStartEvent = function(b, c) {
        c = void 0 === c || !!c;
        var d = c ? "addEventListener" : "removeEventListener";
        a.navigator.pointerEnabled ? b[d]("pointerdown", this) : a.navigator.msPointerEnabled ? b[d]("MSPointerDown", this) : (b[d]("mousedown", this), b[d]("touchstart", this))
    }, e.handleEvent = function(a) {
        var b = "on" + a.type;
        this[b] && this[b](a)
    }, e.getTouch = function(a) {
        for (var b = 0; b < a.length; b++) {
            var c = a[b];
            if (c.identifier == this.pointerIdentifier) return c
        }
    }, e.onmousedown = function(a) {
        var b = a.button;
        b && 0 !== b && 1 !== b || this._pointerDown(a, a)
    }, e.ontouchstart = function(a) {
        this._pointerDown(a, a.changedTouches[0])
    }, e.onMSPointerDown = e.onpointerdown = function(a) {
        this._pointerDown(a, a)
    }, e._pointerDown = function(a, b) {
        this.isPointerDown || (this.isPointerDown = !0, this.pointerIdentifier = void 0 !== b.pointerId ? b.pointerId : b.identifier, this.pointerDown(a, b))
    }, e.pointerDown = function(a, b) {
        this._bindPostStartEvents(a), this.emitEvent("pointerDown", [a, b])
    };
    var f = {
        mousedown: ["mousemove", "mouseup"],
        touchstart: ["touchmove", "touchend", "touchcancel"],
        pointerdown: ["pointermove", "pointerup", "pointercancel"],
        MSPointerDown: ["MSPointerMove", "MSPointerUp", "MSPointerCancel"]
    };
    return e._bindPostStartEvents = function(b) {
        if (b) {
            var c = f[b.type];
            c.forEach(function(b) {
                a.addEventListener(b, this)
            }, this), this._boundPointerEvents = c
        }
    }, e._unbindPostStartEvents = function() {
        this._boundPointerEvents && (this._boundPointerEvents.forEach(function(b) {
            a.removeEventListener(b, this)
        }, this), delete this._boundPointerEvents)
    }, e.onmousemove = function(a) {
        this._pointerMove(a, a)
    }, e.onMSPointerMove = e.onpointermove = function(a) {
        a.pointerId == this.pointerIdentifier && this._pointerMove(a, a)
    }, e.ontouchmove = function(a) {
        var b = this.getTouch(a.changedTouches);
        b && this._pointerMove(a, b)
    }, e._pointerMove = function(a, b) {
        this.pointerMove(a, b)
    }, e.pointerMove = function(a, b) {
        this.emitEvent("pointerMove", [a, b])
    }, e.onmouseup = function(a) {
        this._pointerUp(a, a)
    }, e.onMSPointerUp = e.onpointerup = function(a) {
        a.pointerId == this.pointerIdentifier && this._pointerUp(a, a)
    }, e.ontouchend = function(a) {
        var b = this.getTouch(a.changedTouches);
        b && this._pointerUp(a, b)
    }, e._pointerUp = function(a, b) {
        this._pointerDone(), this.pointerUp(a, b)
    }, e.pointerUp = function(a, b) {
        this.emitEvent("pointerUp", [a, b])
    }, e._pointerDone = function() {
        this.isPointerDown = !1, delete this.pointerIdentifier, this._unbindPostStartEvents(), this.pointerDone()
    }, e.pointerDone = c, e.onMSPointerCancel = e.onpointercancel = function(a) {
        a.pointerId == this.pointerIdentifier && this._pointerCancel(a, a)
    }, e.ontouchcancel = function(a) {
        var b = this.getTouch(a.changedTouches);
        b && this._pointerCancel(a, b)
    }, e._pointerCancel = function(a, b) {
        this._pointerDone(), this.pointerCancel(a, b)
    }, e.pointerCancel = function(a, b) {
        this.emitEvent("pointerCancel", [a, b])
    }, d.getPointerPoint = function(a) {
        return {
            x: a.pageX,
            y: a.pageY
        }
    }, d
}),
function(a, b) {
    "function" == typeof define && define.amd ? define("unidragger/unidragger", ["unipointer/unipointer"], function(c) {
        return b(a, c)
    }) : "object" == typeof module && module.exports ? module.exports = b(a, require("unipointer")) : a.Unidragger = b(a, a.Unipointer)
}(window, function(a, b) {
    function c() {}

    function d() {}
    var e = d.prototype = Object.create(b.prototype);
    e.bindHandles = function() {
        this._bindHandles(!0)
    }, e.unbindHandles = function() {
        this._bindHandles(!1)
    };
    var f = a.navigator;
    return e._bindHandles = function(a) {
        a = void 0 === a || !!a;
        var b;
        b = f.pointerEnabled ? function(b) {
            b.style.touchAction = a ? "none" : ""
        } : f.msPointerEnabled ? function(b) {
            b.style.msTouchAction = a ? "none" : ""
        } : c;
        for (var d = a ? "addEventListener" : "removeEventListener", e = 0; e < this.handles.length; e++) {
            var g = this.handles[e];
            this._bindStartEvent(g, a), b(g), g[d]("click", this)
        }
    }, e.pointerDown = function(a, b) {
        if ("INPUT" == a.target.nodeName && "range" == a.target.type) return this.isPointerDown = !1, void delete this.pointerIdentifier;
        this._dragPointerDown(a, b);
        var c = document.activeElement;
        c && c.blur && c.blur(), this._bindPostStartEvents(a), this.emitEvent("pointerDown", [a, b])
    }, e._dragPointerDown = function(a, c) {
        this.pointerDownPoint = b.getPointerPoint(c);
        var d = this.canPreventDefaultOnPointerDown(a, c);
        d && a.preventDefault()
    }, e.canPreventDefaultOnPointerDown = function(a) {
        return "SELECT" != a.target.nodeName
    }, e.pointerMove = function(a, b) {
        var c = this._dragPointerMove(a, b);
        this.emitEvent("pointerMove", [a, b, c]), this._dragMove(a, b, c)
    }, e._dragPointerMove = function(a, c) {
        var d = b.getPointerPoint(c),
            e = {
                x: d.x - this.pointerDownPoint.x,
                y: d.y - this.pointerDownPoint.y
            };
        return !this.isDragging && this.hasDragStarted(e) && this._dragStart(a, c), e
    }, e.hasDragStarted = function(a) {
        return Math.abs(a.x) > 3 || Math.abs(a.y) > 3
    }, e.pointerUp = function(a, b) {
        this.emitEvent("pointerUp", [a, b]), this._dragPointerUp(a, b)
    }, e._dragPointerUp = function(a, b) {
        this.isDragging ? this._dragEnd(a, b) : this._staticClick(a, b)
    }, e._dragStart = function(a, c) {
        this.isDragging = !0, this.dragStartPoint = b.getPointerPoint(c), this.isPreventingClicks = !0, this.dragStart(a, c)
    }, e.dragStart = function(a, b) {
        this.emitEvent("dragStart", [a, b])
    }, e._dragMove = function(a, b, c) {
        this.isDragging && this.dragMove(a, b, c)
    }, e.dragMove = function(a, b, c) {
        a.preventDefault(), this.emitEvent("dragMove", [a, b, c])
    }, e._dragEnd = function(a, b) {
        this.isDragging = !1, setTimeout(function() {
            delete this.isPreventingClicks
        }.bind(this)), this.dragEnd(a, b)
    }, e.dragEnd = function(a, b) {
        this.emitEvent("dragEnd", [a, b])
    }, e.onclick = function(a) {
        this.isPreventingClicks && a.preventDefault()
    }, e._staticClick = function(a, b) {
        if (!this.isIgnoringMouseUp || "mouseup" != a.type) {
            var c = a.target.nodeName;
            "INPUT" != c && "TEXTAREA" != c || a.target.focus(), this.staticClick(a, b), "mouseup" != a.type && (this.isIgnoringMouseUp = !0, setTimeout(function() {
                delete this.isIgnoringMouseUp
            }.bind(this), 400))
        }
    }, e.staticClick = function(a, b) {
        this.emitEvent("staticClick", [a, b])
    }, d.getPointerPoint = b.getPointerPoint, d
}),
function(a, b) {
    "function" == typeof define && define.amd ? define("flickity/js/drag", ["./flickity", "unidragger/unidragger", "fizzy-ui-utils/utils"], function(c, d, e) {
        return b(a, c, d, e)
    }) : "object" == typeof module && module.exports ? module.exports = b(a, require("./flickity"), require("unidragger"), require("fizzy-ui-utils")) : a.Flickity = b(a, a.Flickity, a.Unidragger, a.fizzyUIUtils)
}(window, function(a, b, c, d) {
    function e() {
        return {
            x: a.pageXOffset,
            y: a.pageYOffset
        }
    }
    d.extend(b.defaults, {
        draggable: !0,
        dragThreshold: 3
    }), b.createMethods.push("_createDrag");
    var f = b.prototype;
    d.extend(f, c.prototype);
    var g = "createTouch" in document,
        h = !1;
    f._createDrag = function() {
        this.on("activate", this.bindDrag), this.on("uiChange", this._uiChangeDrag), this.on("childUIPointerDown", this._childUIPointerDownDrag), this.on("deactivate", this.unbindDrag), g && !h && (a.addEventListener("touchmove", function() {}), h = !0)
    }, f.bindDrag = function() {
        this.options.draggable && !this.isDragBound && (this.element.classList.add("is-draggable"), this.handles = [this.viewport], this.bindHandles(), this.isDragBound = !0)
    }, f.unbindDrag = function() {
        this.isDragBound && (this.element.classList.remove("is-draggable"), this.unbindHandles(), delete this.isDragBound)
    }, f._uiChangeDrag = function() {
        delete this.isFreeScrolling
    }, f._childUIPointerDownDrag = function(a) {
        a.preventDefault(), this.pointerDownFocus(a)
    };
    var i = {
            TEXTAREA: !0,
            INPUT: !0,
            OPTION: !0
        },
        j = {
            radio: !0,
            checkbox: !0,
            button: !0,
            submit: !0,
            image: !0,
            file: !0
        };
    f.pointerDown = function(b, c) {
        var d = i[b.target.nodeName] && !j[b.target.type];
        if (d) return this.isPointerDown = !1, void delete this.pointerIdentifier;
        this._dragPointerDown(b, c);
        var f = document.activeElement;
        f && f.blur && f != this.element && f != document.body && f.blur(), this.pointerDownFocus(b), this.dragX = this.x, this.viewport.classList.add("is-pointer-down"), this._bindPostStartEvents(b), this.pointerDownScroll = e(), a.addEventListener("scroll", this), this.dispatchEvent("pointerDown", b, [c])
    };
    var k = {
            touchstart: !0,
            MSPointerDown: !0
        },
        l = {
            INPUT: !0,
            SELECT: !0
        };
    return f.pointerDownFocus = function(b) {
        if (this.options.accessibility && !k[b.type] && !l[b.target.nodeName]) {
            var c = a.pageYOffset;
            this.element.focus(), a.pageYOffset != c && a.scrollTo(a.pageXOffset, c)
        }
    }, f.canPreventDefaultOnPointerDown = function(a) {
        var b = "touchstart" == a.type,
            c = a.target.nodeName;
        return !b && "SELECT" != c
    }, f.hasDragStarted = function(a) {
        return Math.abs(a.x) > this.options.dragThreshold
    }, f.pointerUp = function(a, b) {
        delete this.isTouchScrolling, this.viewport.classList.remove("is-pointer-down"), this.dispatchEvent("pointerUp", a, [b]), this._dragPointerUp(a, b)
    }, f.pointerDone = function() {
        a.removeEventListener("scroll", this), delete this.pointerDownScroll
    }, f.dragStart = function(b, c) {
        this.dragStartPosition = this.x, this.startAnimation(), a.removeEventListener("scroll", this), this.dispatchEvent("dragStart", b, [c])
    }, f.pointerMove = function(a, b) {
        var c = this._dragPointerMove(a, b);
        this.dispatchEvent("pointerMove", a, [b, c]), this._dragMove(a, b, c)
    }, f.dragMove = function(a, b, c) {
        a.preventDefault(), this.previousDragX = this.dragX;
        var d = this.options.rightToLeft ? -1 : 1,
            e = this.dragStartPosition + c.x * d;
        if (!this.options.wrapAround && this.slides.length) {
            var f = Math.max(-this.slides[0].target, this.dragStartPosition);
            e = e > f ? .5 * (e + f) : e;
            var g = Math.min(-this.getLastSlide().target, this.dragStartPosition);
            e = e < g ? .5 * (e + g) : e
        }
        this.dragX = e, this.dragMoveTime = new Date, this.dispatchEvent("dragMove", a, [b, c])
    }, f.dragEnd = function(a, b) {
        this.options.freeScroll && (this.isFreeScrolling = !0);
        var c = this.dragEndRestingSelect();
        if (this.options.freeScroll && !this.options.wrapAround) {
            var d = this.getRestingPosition();
            this.isFreeScrolling = -d > this.slides[0].target && -d < this.getLastSlide().target
        } else this.options.freeScroll || c != this.selectedIndex || (c += this.dragEndBoostSelect());
        delete this.previousDragX, this.isDragSelect = this.options.wrapAround, this.select(c), delete this.isDragSelect, this.dispatchEvent("dragEnd", a, [b])
    }, f.dragEndRestingSelect = function() {
        var a = this.getRestingPosition(),
            b = Math.abs(this.getSlideDistance(-a, this.selectedIndex)),
            c = this._getClosestResting(a, b, 1),
            d = this._getClosestResting(a, b, -1),
            e = c.distance < d.distance ? c.index : d.index;
        return e
    }, f._getClosestResting = function(a, b, c) {
        for (var d = this.selectedIndex, e = 1 / 0, f = this.options.contain && !this.options.wrapAround ? function(a, b) {
                return a <= b
            } : function(a, b) {
                return a < b
            }; f(b, e) && (d += c, e = b, b = this.getSlideDistance(-a, d), null !== b);) b = Math.abs(b);
        return {
            distance: e,
            index: d - c
        }
    }, f.getSlideDistance = function(a, b) {
        var c = this.slides.length,
            e = this.options.wrapAround && c > 1,
            f = e ? d.modulo(b, c) : b,
            g = this.slides[f];
        if (!g) return null;
        var h = e ? this.slideableWidth * Math.floor(b / c) : 0;
        return a - (g.target + h)
    }, f.dragEndBoostSelect = function() {
        if (void 0 === this.previousDragX || !this.dragMoveTime || new Date - this.dragMoveTime > 100) return 0;
        var a = this.getSlideDistance(-this.dragX, this.selectedIndex),
            b = this.previousDragX - this.dragX;
        return a > 0 && b > 0 ? 1 : a < 0 && b < 0 ? -1 : 0
    }, f.staticClick = function(a, b) {
        var c = this.getParentCell(a.target),
            d = c && c.element,
            e = c && this.cells.indexOf(c);
        this.dispatchEvent("staticClick", a, [b, d, e])
    }, f.onscroll = function() {
        var a = e(),
            b = this.pointerDownScroll.x - a.x,
            c = this.pointerDownScroll.y - a.y;
        (Math.abs(b) > 3 || Math.abs(c) > 3) && this._pointerDone()
    }, b
}),
function(a, b) {
    "function" == typeof define && define.amd ? define("tap-listener/tap-listener", ["unipointer/unipointer"], function(c) {
        return b(a, c)
    }) : "object" == typeof module && module.exports ? module.exports = b(a, require("unipointer")) : a.TapListener = b(a, a.Unipointer)
}(window, function(a, b) {
    function c(a) {
        this.bindTap(a)
    }
    var d = c.prototype = Object.create(b.prototype);
    return d.bindTap = function(a) {
        a && (this.unbindTap(), this.tapElement = a, this._bindStartEvent(a, !0))
    }, d.unbindTap = function() {
        this.tapElement && (this._bindStartEvent(this.tapElement, !0), delete this.tapElement)
    }, d.pointerUp = function(c, d) {
        if (!this.isIgnoringMouseUp || "mouseup" != c.type) {
            var e = b.getPointerPoint(d),
                f = this.tapElement.getBoundingClientRect(),
                g = a.pageXOffset,
                h = a.pageYOffset,
                i = e.x >= f.left + g && e.x <= f.right + g && e.y >= f.top + h && e.y <= f.bottom + h;
            if (i && this.emitEvent("tap", [c, d]), "mouseup" != c.type) {
                this.isIgnoringMouseUp = !0;
                var j = this;
                setTimeout(function() {
                    delete j.isIgnoringMouseUp
                }, 400)
            }
        }
    }, d.destroy = function() {
        this.pointerDone(), this.unbindTap()
    }, c
}),
function(a, b) {
    "function" == typeof define && define.amd ? define("flickity/js/prev-next-button", ["./flickity", "tap-listener/tap-listener", "fizzy-ui-utils/utils"], function(c, d, e) {
        return b(a, c, d, e)
    }) : "object" == typeof module && module.exports ? module.exports = b(a, require("./flickity"), require("tap-listener"), require("fizzy-ui-utils")) : b(a, a.Flickity, a.TapListener, a.fizzyUIUtils)
}(window, function(a, b, c, d) {
    "use strict";

    function e(a, b) {
        this.direction = a, this.parent = b, this._create()
    }
    var f = "http://www.w3.org/2000/svg";
    e.prototype = new c, e.prototype._create = function() {
        this.isEnabled = !0, this.isPrevious = this.direction == -1;
        var a = this.parent.options.rightToLeft ? 1 : -1;
        this.isLeft = this.direction == a;
        var b = this.element = document.createElement("button");
        b.className = "flickity-prev-next-button", b.className += this.isPrevious ? " previous" : " next", b.setAttribute("type", "button"), this.disable(), b.setAttribute("aria-label", this.isPrevious ? "previous" : "next");
        var c = this.createSVG();
        b.appendChild(c), this.on("tap", this.onTap), this.parent.on("select", this.update.bind(this)), this.on("pointerDown", this.parent.childUIPointerDown.bind(this.parent))
    }, e.prototype.activate = function () {
        this.bindTap(this.element), this.element.addEventListener("click", this); 
          if(this.element.classList.contains('previous')){
              this.parent.element.insertBefore(this.element, this.parent.element.querySelector('.flickity-viewport'));
          }else{
              this.parent.element.appendChild(this.element);
          }; 
    }, e.prototype.deactivate = function() {
        this.parent.element.removeChild(this.element), c.prototype.destroy.call(this), this.element.removeEventListener("click", this)
    }, e.prototype.createSVG = function() {
        var a = document.createElementNS(f, "svg");
        a.setAttribute("viewBox", "0 0 40 40");
        var b = document.createElementNS(f, "path"),
            c = "M23.006 19.5l-23.006 19.5v-39z";
        return b.setAttribute("d", c), b.setAttribute("class", "arrow"), this.isLeft && b.setAttribute("transform", "translate(40, 40) rotate(180) "), a.appendChild(b), a
    }, e.prototype.onTap = function() {
        if (this.isEnabled) {
            this.parent.uiChange();
            var a = this.isPrevious ? "previous" : "next";
            this.parent[a]()
        }
    }, e.prototype.handleEvent = d.handleEvent, e.prototype.onclick = function() {
        var a = document.activeElement;
        a && a == this.element && this.onTap()
    }, e.prototype.enable = function() {
        this.isEnabled || (this.element.disabled = !1, this.isEnabled = !0)
    }, e.prototype.disable = function() {
        this.isEnabled && (this.element.disabled = !0, this.isEnabled = !1);
    }, e.prototype.update = function() {
        var a = this.parent.slides;
        if (this.parent.options.wrapAround && a.length > 1) return void this.enable();
        var b = a.length ? a.length - 1 : 0,
            c = this.isPrevious ? 0 : b,
            d = this.parent.selectedIndex == c ? "disable" : "enable";
        this[d]()
    }, e.prototype.destroy = function() {
        this.deactivate()
    }, d.extend(b.defaults, {
        prevNextButtons: !0,
        arrowShape: {
            x0: 10,
            x1: 60,
            y1: 50,
            x2: 70,
            y2: 40,
            x3: 30
        }
    }), b.createMethods.push("_createPrevNextButtons");
    var g = b.prototype;
    return g._createPrevNextButtons = function() {
        this.options.prevNextButtons && (this.prevButton = new e((-1), this), this.nextButton = new e(1, this), this.on("activate", this.activatePrevNextButtons))
    }, g.activatePrevNextButtons = function() {
        this.prevButton.activate(), this.nextButton.activate(), this.on("deactivate", this.deactivatePrevNextButtons)
    }, g.deactivatePrevNextButtons = function() {
        this.prevButton.deactivate(), this.nextButton.deactivate(), this.off("deactivate", this.deactivatePrevNextButtons)
    }, b.PrevNextButton = e, b
}),
function(a, b) {
    "function" == typeof define && define.amd ? define("flickity/js/page-dots", ["./flickity", "tap-listener/tap-listener", "fizzy-ui-utils/utils"], function(c, d, e) {
        return b(a, c, d, e)
    }) : "object" == typeof module && module.exports ? module.exports = b(a, require("./flickity"), require("tap-listener"), require("fizzy-ui-utils")) : b(a, a.Flickity, a.TapListener, a.fizzyUIUtils)
}(window, function(a, b, c, d) {
    function e(a) {
        this.parent = a, this._create()
    }
    e.prototype = new c, e.prototype._create = function() {
        this.holder = document.createElement("ol"), this.holder.className = "flickity-page-dots", this.dots = [], this.on("tap", this.onTap), this.on("pointerDown", this.parent.childUIPointerDown.bind(this.parent))
    }, e.prototype.activate = function() {
        this.setDots(), this.bindTap(this.holder), this.parent.element.appendChild(this.holder)
    }, e.prototype.deactivate = function() {
        this.parent.element.removeChild(this.holder), c.prototype.destroy.call(this)
    }, e.prototype.setDots = function() {
        var a = this.parent.slides.length - this.dots.length;
        a > 0 ? this.addDots(a) : a < 0 && this.removeDots(-a)
    }, e.prototype.addDots = function(a) {
        for (var b = document.createDocumentFragment(), c = []; a;) {
            var d = document.createElement("li");
            d.className = "dot", b.appendChild(d), c.push(d), a--
        }
        this.holder.appendChild(b), this.dots = this.dots.concat(c)
    }, e.prototype.removeDots = function(a) {
        var b = this.dots.splice(this.dots.length - a, a);
        b.forEach(function(a) {
            this.holder.removeChild(a)
        }, this)
    }, e.prototype.updateSelected = function() {
        this.selectedDot && (this.selectedDot.className = "dot"), this.dots.length && (this.selectedDot = this.dots[this.parent.selectedIndex], this.selectedDot.className = "dot is-selected")
    }, e.prototype.onTap = function(a) {
        var b = a.target;
        if ("LI" == b.nodeName) {
            this.parent.uiChange();
            var c = this.dots.indexOf(b);
            this.parent.select(c)
        }
    }, e.prototype.destroy = function() {
        this.deactivate()
    }, b.PageDots = e, d.extend(b.defaults, {
        pageDots: !0
    }), b.createMethods.push("_createPageDots");
    var f = b.prototype;
    return f._createPageDots = function() {
        this.options.pageDots && (this.pageDots = new e(this), this.on("activate", this.activatePageDots), this.on("select", this.updateSelectedPageDots), this.on("cellChange", this.updatePageDots), this.on("resize", this.updatePageDots), this.on("deactivate", this.deactivatePageDots))
    }, f.activatePageDots = function() {
        this.pageDots.activate()
    }, f.updateSelectedPageDots = function() {
        this.pageDots.updateSelected()
    }, f.updatePageDots = function() {
        this.pageDots.setDots()
    }, f.deactivatePageDots = function() {
        this.pageDots.deactivate()
    }, b.PageDots = e, b
}),
function(a, b) {
    "function" == typeof define && define.amd ? define("flickity/js/player", ["ev-emitter/ev-emitter", "fizzy-ui-utils/utils", "./flickity"], function(a, c, d) {
        return b(a, c, d)
    }) : "object" == typeof module && module.exports ? module.exports = b(require("ev-emitter"), require("fizzy-ui-utils"), require("./flickity")) : b(a.EvEmitter, a.fizzyUIUtils, a.Flickity)
}(window, function(a, b, c) {
    function d(a) {
        this.parent = a, this.state = "stopped", f && (this.onVisibilityChange = function() {
            this.visibilityChange()
        }.bind(this), this.onVisibilityPlay = function() {
            this.visibilityPlay()
        }.bind(this))
    }
    var e, f;
    "hidden" in document ? (e = "hidden", f = "visibilitychange") : "webkitHidden" in document && (e = "webkitHidden", f = "webkitvisibilitychange"), d.prototype = Object.create(a.prototype), d.prototype.play = function() {
        if ("playing" != this.state) {
            var a = document[e];
            if (f && a) return void document.addEventListener(f, this.onVisibilityPlay);
            this.state = "playing", f && document.addEventListener(f, this.onVisibilityChange), this.tick()
        }
    }, d.prototype.tick = function() {
        if ("playing" == this.state) {
            var a = this.parent.options.autoPlay;
            a = "number" == typeof a ? a : 3e3;
            var b = this;
            this.clear(), this.timeout = setTimeout(function() {
                b.parent.next(!0), b.tick()
            }, a)
        }
    }, d.prototype.stop = function() {
        this.state = "stopped", this.clear(), f && document.removeEventListener(f, this.onVisibilityChange)
    }, d.prototype.clear = function() {
        clearTimeout(this.timeout)
    }, d.prototype.pause = function() {
        "playing" == this.state && (this.state = "paused", this.clear())
    }, d.prototype.unpause = function() {
        "paused" == this.state && this.play()
    }, d.prototype.visibilityChange = function() {
        var a = document[e];
        this[a ? "pause" : "unpause"]()
    }, d.prototype.visibilityPlay = function() {
        this.play(), document.removeEventListener(f, this.onVisibilityPlay)
    }, b.extend(c.defaults, {
        pauseAutoPlayOnHover: !0
    }), c.createMethods.push("_createPlayer");
    var g = c.prototype;
    return g._createPlayer = function() {
        this.player = new d(this), this.on("activate", this.activatePlayer), this.on("uiChange", this.stopPlayer), this.on("pointerDown", this.stopPlayer), this.on("deactivate", this.deactivatePlayer)
    }, g.activatePlayer = function() {
        this.options.autoPlay && (this.player.play(), this.element.addEventListener("mouseenter", this))
    }, g.playPlayer = function() {
        this.player.play()
    }, g.stopPlayer = function() {
        this.player.stop()
    }, g.pausePlayer = function() {
        this.player.pause()
    }, g.unpausePlayer = function() {
        this.player.unpause()
    }, g.deactivatePlayer = function() {
        this.player.stop(), this.element.removeEventListener("mouseenter", this)
    }, g.onmouseenter = function() {
        this.options.pauseAutoPlayOnHover && (this.player.pause(), this.element.addEventListener("mouseleave", this))
    }, g.onmouseleave = function() {
        this.player.unpause(), this.element.removeEventListener("mouseleave", this)
    }, c.Player = d, c
}),
function(a, b) {
    "function" == typeof define && define.amd ? define("flickity/js/add-remove-cell", ["./flickity", "fizzy-ui-utils/utils"], function(c, d) {
        return b(a, c, d)
    }) : "object" == typeof module && module.exports ? module.exports = b(a, require("./flickity"), require("fizzy-ui-utils")) : b(a, a.Flickity, a.fizzyUIUtils)
}(window, function(a, b, c) {
    function d(a) {
        var b = document.createDocumentFragment();
        return a.forEach(function(a) {
            b.appendChild(a.element)
        }), b
    }
    var e = b.prototype;
    return e.insert = function(a, b) {
        var c = this._makeCells(a);
        if (c && c.length) {
            var e = this.cells.length;
            b = void 0 === b ? e : b;
            var f = d(c),
                g = b == e;
            if (g) this.slider.appendChild(f);
            else {
                var h = this.cells[b].element;
                this.slider.insertBefore(f, h)
            }
            if (0 === b) this.cells = c.concat(this.cells);
            else if (g) this.cells = this.cells.concat(c);
            else {
                var i = this.cells.splice(b, e - b);
                this.cells = this.cells.concat(c).concat(i)
            }
            this._sizeCells(c);
            var j = b > this.selectedIndex ? 0 : c.length;
            this._cellAddedRemoved(b, j)
        }
    }, e.append = function(a) {
        this.insert(a, this.cells.length)
    }, e.prepend = function(a) {
        this.insert(a, 0)
    }, e.remove = function(a) {
        var b, d, e = this.getCells(a),
            f = 0,
            g = e.length;
        for (b = 0; b < g; b++) {
            d = e[b];
            var h = this.cells.indexOf(d) < this.selectedIndex;
            f -= h ? 1 : 0
        }
        for (b = 0; b < g; b++) d = e[b], d.remove(), c.removeFrom(this.cells, d);
        e.length && this._cellAddedRemoved(0, f)
    }, e._cellAddedRemoved = function(a, b) {
        b = b || 0, this.selectedIndex += b, this.selectedIndex = Math.max(0, Math.min(this.slides.length - 1, this.selectedIndex)), this.cellChange(a, !0), this.emitEvent("cellAddedRemoved", [a, b])
    }, e.cellSizeChange = function(a) {
        var b = this.getCell(a);
        if (b) {
            b.getSize();
            var c = this.cells.indexOf(b);
            this.cellChange(c)
        }
    }, e.cellChange = function(a, b) {
        var c = this.slideableWidth;
        if (this._positionCells(a), this._getWrapShiftCells(), this.setGallerySize(), this.emitEvent("cellChange", [a]), this.options.freeScroll) {
            var d = c - this.slideableWidth;
            this.x += d * this.cellAlign, this.positionSlider()
        } else b && this.positionSliderAtSelected(), this.select(this.selectedIndex)
    }, b
}),
function(a, b) {
    "function" == typeof define && define.amd ? define("flickity/js/lazyload", ["./flickity", "fizzy-ui-utils/utils"], function(c, d) {
        return b(a, c, d)
    }) : "object" == typeof module && module.exports ? module.exports = b(a, require("./flickity"), require("fizzy-ui-utils")) : b(a, a.Flickity, a.fizzyUIUtils)
}(window, function(a, b, c) {
    "use strict";

    function d(a) {
        if ("IMG" == a.nodeName && a.getAttribute("data-flickity-lazyload")) return [a];
        var b = a.querySelectorAll("img[data-flickity-lazyload]");
        return c.makeArray(b)
    }

    function e(a, b) {
        this.img = a, this.flickity = b, this.load()
    }
    b.createMethods.push("_createLazyload");
    var f = b.prototype;
    return f._createLazyload = function() {
        this.on("select", this.lazyLoad)
    }, f.lazyLoad = function() {
        var a = this.options.lazyLoad;
        if (a) {
            var b = "number" == typeof a ? a : 0,
                c = this.getAdjacentCellElements(b),
                f = [];
            c.forEach(function(a) {
                var b = d(a);
                f = f.concat(b)
            }), f.forEach(function(a) {
                new e(a, this)
            }, this)
        }
    }, e.prototype.handleEvent = c.handleEvent, e.prototype.load = function() {
        this.img.addEventListener("load", this), this.img.addEventListener("error", this), this.img.src = this.img.getAttribute("data-flickity-lazyload"), this.img.removeAttribute("data-flickity-lazyload")
    }, e.prototype.onload = function(a) {
        this.complete(a, "flickity-lazyloaded")
    }, e.prototype.onerror = function(a) {
        this.complete(a, "flickity-lazyerror")
    }, e.prototype.complete = function(a, b) {
        this.img.removeEventListener("load", this), this.img.removeEventListener("error", this);
        var c = this.flickity.getParentCell(this.img),
            d = c && c.element;
        this.flickity.cellSizeChange(d), this.img.classList.add(b), this.flickity.dispatchEvent("lazyLoad", a, d)
    }, b.LazyLoader = e, b
}),
function(a, b) {
    "function" == typeof define && define.amd ? define("flickity/js/index", ["./flickity", "./drag", "./prev-next-button", "./page-dots", "./player", "./add-remove-cell", "./lazyload"], b) : "object" == typeof module && module.exports && (module.exports = b(require("./flickity"), require("./drag"), require("./prev-next-button"), require("./page-dots"), require("./player"), require("./add-remove-cell"), require("./lazyload")))
}(window, function(a) {
    return a
}),
function(a, b) {
    "function" == typeof define && define.amd ? define("flickity-as-nav-for/as-nav-for", ["flickity/js/index", "fizzy-ui-utils/utils"], b) : "object" == typeof module && module.exports ? module.exports = b(require("flickity"), require("fizzy-ui-utils")) : a.Flickity = b(a.Flickity, a.fizzyUIUtils)
}(window, function(a, b) {
    function c(a, b, c) {
        return (b - a) * c + a
    }
    a.createMethods.push("_createAsNavFor");
    var d = a.prototype;
    return d._createAsNavFor = function() {
        this.on("activate", this.activateAsNavFor), this.on("deactivate", this.deactivateAsNavFor), this.on("destroy", this.destroyAsNavFor);
        var a = this.options.asNavFor;
        if (a) {
            var b = this;
            setTimeout(function() {
                b.setNavCompanion(a)
            })
        }
    }, d.setNavCompanion = function(c) {
        c = b.getQueryElement(c);
        var d = a.data(c);
        if (d && d != this) {
            this.navCompanion = d;
            var e = this;
            this.onNavCompanionSelect = function() {
                e.navCompanionSelect()
            }, d.on("select", this.onNavCompanionSelect), this.on("staticClick", this.onNavStaticClick), this.navCompanionSelect(!0)
        }
    }, d.navCompanionSelect = function(a) {
        if (this.navCompanion) {
            var b = this.navCompanion.selectedCells[0],
                d = this.navCompanion.cells.indexOf(b),
                e = d + this.navCompanion.selectedCells.length - 1,
                f = Math.floor(c(d, e, this.navCompanion.cellAlign));
            if (this.selectCell(f, !1, a), this.removeNavSelectedElements(), !(f >= this.cells.length)) {
                var g = this.cells.slice(d, e + 1);
                this.navSelectedElements = g.map(function(a) {
                    return a.element
                }), this.changeNavSelectedClass("add")
            }
        }
    }, d.changeNavSelectedClass = function(a) {
        this.navSelectedElements.forEach(function(b) {
            b.classList[a]("is-nav-selected")
        })
    }, d.activateAsNavFor = function() {
        this.navCompanionSelect(!0)
    }, d.removeNavSelectedElements = function() {
        this.navSelectedElements && (this.changeNavSelectedClass("remove"), delete this.navSelectedElements)
    }, d.onNavStaticClick = function(a, b, c, d) {
        "number" == typeof d && this.navCompanion.selectCell(d)
    }, d.deactivateAsNavFor = function() {
        this.removeNavSelectedElements()
    }, d.destroyAsNavFor = function() {
        this.navCompanion && (this.navCompanion.off("select", this.onNavCompanionSelect), this.off("staticClick", this.onNavStaticClick), delete this.navCompanion)
    }, a
}),
function(a, b) {
    "use strict";
    "function" == typeof define && define.amd ? define("imagesloaded/imagesloaded", ["ev-emitter/ev-emitter"], function(c) {
        return b(a, c)
    }) : "object" == typeof module && module.exports ? module.exports = b(a, require("ev-emitter")) : a.imagesLoaded = b(a, a.EvEmitter)
}(window, function(a, b) {
    function c(a, b) {
        for (var c in b) a[c] = b[c];
        return a
    }

    function d(a) {
        var b = [];
        if (Array.isArray(a)) b = a;
        else if ("number" == typeof a.length)
            for (var c = 0; c < a.length; c++) b.push(a[c]);
        else b.push(a);
        return b
    }

    function e(a, b, f) {
        return this instanceof e ? ("string" == typeof a && (a = document.querySelectorAll(a)), this.elements = d(a), this.options = c({}, this.options), "function" == typeof b ? f = b : c(this.options, b), f && this.on("always", f), this.getImages(), h && (this.jqDeferred = new h.Deferred), void setTimeout(function() {
            this.check()
        }.bind(this))) : new e(a, b, f)
    }

    function f(a) {
        this.img = a
    }

    function g(a, b) {
        this.url = a, this.element = b, this.img = new Image, this.img.crossOrigin = "Anonymous"
    }
    var h = a.jQuery,
        i = a.console;
    e.prototype = Object.create(b.prototype), e.prototype.options = {}, e.prototype.getImages = function() {
        this.images = [], this.elements.forEach(this.addElementImages, this)
    }, e.prototype.addElementImages = function(a) {
        "IMG" == a.nodeName && this.addImage(a), this.options.background === !0 && this.addElementBackgroundImages(a);
        var b = a.nodeType;
        if (b && j[b]) {
            for (var c = a.querySelectorAll("img"), d = 0; d < c.length; d++) {
                var e = c[d];
                this.addImage(e)
            }
            if ("string" == typeof this.options.background) {
                var f = a.querySelectorAll(this.options.background);
                for (d = 0; d < f.length; d++) {
                    var g = f[d];
                    this.addElementBackgroundImages(g)
                }
            }
        }
    };
    var j = {
        1: !0,
        9: !0,
        11: !0
    };
    return e.prototype.addElementBackgroundImages = function(a) {
        var b = getComputedStyle(a);
        if (b)
            for (var c = /url\((['"])?(.*?)\1\)/gi, d = c.exec(b.backgroundImage); null !== d;) {
                var e = d && d[2];
                e && this.addBackground(e, a), d = c.exec(b.backgroundImage)
            }
    }, e.prototype.addImage = function(a) {
        var b = new f(a);
        this.images.push(b)
    }, e.prototype.addBackground = function(a, b) {
        var c = new g(a, b);
        this.images.push(c)
    }, e.prototype.check = function() {
        function a(a, c, d) {
            setTimeout(function() {
                b.progress(a, c, d)
            })
        }
        var b = this;
        return this.progressedCount = 0, this.hasAnyBroken = !1, this.images.length ? void this.images.forEach(function(b) {
            b.once("progress", a), b.check()
        }) : void this.complete()
    }, e.prototype.progress = function(a, b, c) {
        this.progressedCount++, this.hasAnyBroken = this.hasAnyBroken || !a.isLoaded, this.emitEvent("progress", [this, a, b]), this.jqDeferred && this.jqDeferred.notify && this.jqDeferred.notify(this, a), this.progressedCount == this.images.length && this.complete(), this.options.debug && i && i.log("progress: " + c, a, b)
    }, e.prototype.complete = function() {
        var a = this.hasAnyBroken ? "fail" : "done";
        if (this.isComplete = !0, this.emitEvent(a, [this]), this.emitEvent("always", [this]), this.jqDeferred) {
            var b = this.hasAnyBroken ? "reject" : "resolve";
            this.jqDeferred[b](this)
        }
    }, f.prototype = Object.create(b.prototype), f.prototype.check = function() {
        var a = this.getIsImageComplete();
        return a ? void this.confirm(0 !== this.img.naturalWidth, "naturalWidth") : (this.proxyImage = new Image, this.proxyImage.crossOrigin = "Anonymous", this.proxyImage.addEventListener("load", this), this.proxyImage.addEventListener("error", this), this.img.addEventListener("load", this), this.img.addEventListener("error", this), void(this.proxyImage.src = this.img.src))
    }, f.prototype.getIsImageComplete = function() {
        return this.img.complete && void 0 !== this.img.naturalWidth
    }, f.prototype.confirm = function(a, b) {
        this.isLoaded = a, this.emitEvent("progress", [this, this.img, b])
    }, f.prototype.handleEvent = function(a) {
        var b = "on" + a.type;
        this[b] && this[b](a)
    }, f.prototype.onload = function() {
        this.confirm(!0, "onload"), this.unbindEvents()
    }, f.prototype.onerror = function() {
        this.confirm(!1, "onerror"), this.unbindEvents()
    }, f.prototype.unbindEvents = function() {
        this.proxyImage.removeEventListener("load", this), this.proxyImage.removeEventListener("error", this), this.img.removeEventListener("load", this), this.img.removeEventListener("error", this)
    }, g.prototype = Object.create(f.prototype), g.prototype.check = function() {
        this.img.addEventListener("load", this), this.img.addEventListener("error", this), this.img.src = this.url;
        var a = this.getIsImageComplete();
        a && (this.confirm(0 !== this.img.naturalWidth, "naturalWidth"), this.unbindEvents())
    }, g.prototype.unbindEvents = function() {
        this.img.removeEventListener("load", this), this.img.removeEventListener("error", this)
    }, g.prototype.confirm = function(a, b) {
        this.isLoaded = a, this.emitEvent("progress", [this, this.element, b])
    }, e.makeJQueryPlugin = function(b) {
        b = b || a.jQuery, b && (h = b, h.fn.imagesLoaded = function(a, b) {
            var c = new e(this, a, b);
            return c.jqDeferred.promise(h(this))
        })
    }, e.makeJQueryPlugin(), e
}),
function(a, b) {
    "function" == typeof define && define.amd ? define(["flickity/js/index", "imagesloaded/imagesloaded"], function(c, d) {
        return b(a, c, d)
    }) : "object" == typeof module && module.exports ? module.exports = b(a, require("flickity"), require("imagesloaded")) : a.Flickity = b(a, a.Flickity, a.imagesLoaded)
}(window, function(a, b, c) {
    "use strict";
    b.createMethods.push("_createImagesLoaded");
    var d = b.prototype;
    return d._createImagesLoaded = function() {
        this.on("activate", this.imagesLoaded)
    }, d.imagesLoaded = function() {
        function a(a, c) {
            var d = b.getParentCell(c.img);
            b.cellSizeChange(d && d.element), b.options.freeScroll || b.positionSliderAtSelected()
        }
        if (this.options.imagesLoaded) {
            var b = this;
            c(this.slider).on("progress", a)
        }
    }, b
}),
function(a) {
    "use strict";
    a.fn.fitVids = function(b) {
        var c = {
            customSelector: null,
            ignore: null
        };
        if (!document.getElementById("fit-vids-style")) {
            var d = document.head || document.getElementsByTagName("head")[0],
                e = ".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",
                f = document.createElement("div");
            f.innerHTML = '<p>x</p><style id="fit-vids-style">' + e + "</style>", d.appendChild(f.childNodes[1])
        }
        return b && a.extend(c, b), this.each(function() {
            var b = ['iframe[src*="player.vimeo.com"]', 'iframe[src*="youtube.com"]', 'iframe[src*="youtube-nocookie.com"]', 'iframe[src*="kickstarter.com"][src*="video.html"]', "object", "embed"];
            c.customSelector && b.push(c.customSelector);
            var d = ".fitvidsignore";
            c.ignore && (d = d + ", " + c.ignore);
            var e = a(this).find(b.join(","));
            e = e.not("object object"), e = e.not(d), e.each(function() {
                var b = a(this);
                if (!(b.parents(d).length > 0 || "embed" === this.tagName.toLowerCase() && b.parent("object").length || b.parent(".fluid-width-video-wrapper").length)) {
                    b.css("height") || b.css("width") || !isNaN(b.attr("height")) && !isNaN(b.attr("width")) || (b.attr("height", 9), b.attr("width", 16));
                    var c = "object" === this.tagName.toLowerCase() || b.attr("height") && !isNaN(parseInt(b.attr("height"), 10)) ? parseInt(b.attr("height"), 10) : b.height(),
                        e = isNaN(parseInt(b.attr("width"), 10)) ? b.width() : parseInt(b.attr("width"), 10),
                        f = c / e;
                    if (!b.attr("name")) {
                        var g = "fitvid" + a.fn.fitVids._count;
                        b.attr("name", g), a.fn.fitVids._count++
                    }
                    b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top", 100 * f + "%"), b.removeAttr("height").removeAttr("width")
                }
            })
        })
    }, a.fn.fitVids._count = 0
}(window.jQuery || window.Zepto),
function(a) {
    "function" == typeof define && define.amd ? define(["jquery"], a) : "object" == typeof exports ? module.exports = a(require("jquery")) : a(jQuery)
}(function(a) {
    function b() {
        var b, c, d = {
            height: j.innerHeight,
            width: j.innerWidth
        };
        return d.height || (b = i.compatMode, !b && a.support.boxModel || (c = "CSS1Compat" === b ? k : i.body, d = {
            height: c.clientHeight,
            width: c.clientWidth
        })), d
    }

    function c() {
        return {
            top: j.pageYOffset || k.scrollTop || i.body.scrollTop,
            left: j.pageXOffset || k.scrollLeft || i.body.scrollLeft
        }
    }

    function d() {
        if (h.length) {
            var d = 0,
                g = a.map(h, function(a) {
                    var b = a.data.selector,
                        c = a.$element;
                    return b ? c.find(b) : c
                });
            for (e = e || b(), f = f || c(); d < h.length; d++)
                if (a.contains(k, g[d][0])) {
                    var i = a(g[d]),
                        j = {
                            height: i[0].offsetHeight,
                            width: i[0].offsetWidth
                        },
                        l = i.offset(),
                        m = i.data("inview");
                    if (!f || !e) return;
                    l.top + j.height > f.top && l.top < f.top + e.height && l.left + j.width > f.left && l.left < f.left + e.width ? m || i.data("inview", !0).trigger("inview", [!0]) : m && i.data("inview", !1).trigger("inview", [!1])
                }
        }
    }
    var e, f, g, h = [],
        i = document,
        j = window,
        k = i.documentElement;
    a.event.special.inview = {
        add: function(b) {
            h.push({
                data: b,
                $element: a(this),
                element: this
            }), !g && h.length && (g = setInterval(d, 250))
        },
        remove: function(a) {
            for (var b = 0; b < h.length; b++) {
                var c = h[b];
                if (c.element === this && c.data.guid === a.guid) {
                    h.splice(b, 1);
                    break
                }
            }
            h.length || (clearInterval(g), g = null)
        }
    }, a(j).on("scroll resize scrollstop", function() {
        e = f = null
    }), !k.addEventListener && k.attachEvent && k.attachEvent("onfocusin", function() {
        f = null
    })
}),
function(a) {
    "use strict";
    "function" == typeof define && define.amd ? define(["jquery"], a) : "undefined" != typeof module && module.exports ? module.exports = a(require("jquery")) : a(jQuery)
}(function(a) {
    var b = -1,
        c = -1,
        d = function(a) {
            return parseFloat(a) || 0
        },
        e = function(b) {
            var c = 1,
                e = a(b),
                f = null,
                g = [];
            return e.each(function() {
                var b = a(this),
                    e = b.offset().top - d(b.css("margin-top")),
                    h = g.length > 0 ? g[g.length - 1] : null;
                null === h ? g.push(b) : Math.floor(Math.abs(f - e)) <= c ? g[g.length - 1] = h.add(b) : g.push(b), f = e
            }), g
        },
        f = function(b) {
            var c = {
                byRow: !0,
                property: "height",
                target: null,
                remove: !1
            };
            return "object" == typeof b ? a.extend(c, b) : ("boolean" == typeof b ? c.byRow = b : "remove" === b && (c.remove = !0), c)
        },
        g = a.fn.matchHeight = function(b) {
            var c = f(b);
            if (c.remove) {
                var d = this;
                return this.css(c.property, ""), a.each(g._groups, function(a, b) {
                    b.elements = b.elements.not(d)
                }), this
            }
            return this.length <= 1 && !c.target ? this : (g._groups.push({
                elements: this,
                options: c
            }), g._apply(this, c), this)
        };
    g.version = "0.7.0", g._groups = [], g._throttle = 80, g._maintainScroll = !1, g._beforeUpdate = null, g._afterUpdate = null, g._rows = e, g._parse = d, g._parseOptions = f, g._apply = function(b, c) {
        var h = f(c),
            i = a(b),
            j = [i],
            k = a(window).scrollTop(),
            l = a("html").outerHeight(!0),
            m = i.parents().filter(":hidden");
        return m.each(function() {
            var b = a(this);
            b.data("style-cache", b.attr("style"))
        }), m.css("display", "block"), h.byRow && !h.target && (i.each(function() {
            var b = a(this),
                c = b.css("display");
            "inline-block" !== c && "flex" !== c && "inline-flex" !== c && (c = "block"), b.data("style-cache", b.attr("style")), b.css({
                display: c,
                "padding-top": "0",
                "padding-bottom": "0",
                "margin-top": "0",
                "margin-bottom": "0",
                "border-top-width": "0",
                "border-bottom-width": "0",
                height: "100px",
                overflow: "hidden"
            })
        }), j = e(i), i.each(function() {
            var b = a(this);
            b.attr("style", b.data("style-cache") || "")
        })), a.each(j, function(b, c) {
            var e = a(c),
                f = 0;
            if (h.target) f = h.target.outerHeight(!1);
            else {
                if (h.byRow && e.length <= 1) return void e.css(h.property, "");
                e.each(function() {
                    var b = a(this),
                        c = b.attr("style"),
                        d = b.css("display");
                    "inline-block" !== d && "flex" !== d && "inline-flex" !== d && (d = "block");
                    var e = {
                        display: d
                    };
                    e[h.property] = "", b.css(e), b.outerHeight(!1) > f && (f = b.outerHeight(!1)), c ? b.attr("style", c) : b.css("display", "")
                })
            }
            e.each(function() {
                var b = a(this),
                    c = 0;
                h.target && b.is(h.target) || ("border-box" !== b.css("box-sizing") && (c += d(b.css("border-top-width")) + d(b.css("border-bottom-width")), c += d(b.css("padding-top")) + d(b.css("padding-bottom"))), b.css(h.property, f - c + "px"))
            })
        }), m.each(function() {
            var b = a(this);
            b.attr("style", b.data("style-cache") || null)
        }), g._maintainScroll && a(window).scrollTop(k / l * a("html").outerHeight(!0)), this
    }, g._applyDataApi = function() {
        var b = {};
        a("[data-match-height], [data-mh]").each(function() {
            var c = a(this),
                d = c.attr("data-mh") || c.attr("data-match-height");
            d in b ? b[d] = b[d].add(c) : b[d] = c
        }), a.each(b, function() {
            this.matchHeight(!0)
        })
    };
    var h = function(b) {
        g._beforeUpdate && g._beforeUpdate(b, g._groups), a.each(g._groups, function() {
            g._apply(this.elements, this.options)
        }), g._afterUpdate && g._afterUpdate(b, g._groups)
    };
    g._update = function(d, e) {
        if (e && "resize" === e.type) {
            var f = a(window).width();
            if (f === b) return;
            b = f
        }
        d ? c === -1 && (c = setTimeout(function() {
            h(e), c = -1
        }, g._throttle)) : h(e)
    }, a(g._applyDataApi), a(window).bind("load", function(a) {
        g._update(!1, a)
    }), a(window).bind("resize orientationchange", function(a) {
        g._update(!0, a)
    })
}),
function(a) {
    "use strict";

    function b() {
        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(a) {
            var b = 16 * Math.random() | 0,
                c = "x" == a ? b : 3 & b | 8;
            return c.toString(16)
        })
    }
    var c = ".tubeplayer",
        d = "jquery-youtube-tubeplayer",
        e = "opts" + c,
        f = {
            inited: !1,
            ytplayers: {},
            inits: [],
            iframeScriptInited: !1,
            State: {
                UNSTARTED: -1,
                ENDED: 0,
                PLAYING: 1,
                PAUSED: 2,
                BUFFERING: 3,
                CUED: 5
            },
            Error: {
                BAD_INIT: 0,
                INVALID_PARAM: 2,
                NOT_FOUND: 100,
                NOT_EMBEDDABLE: 101,
                CANT_PLAY: 150
            }
        };
    a.tubeplayer = {
        TubePlayer: f
    }, a.tubeplayer.defaults = {
        afterReady: function() {},
        stateChange: function(b) {
            var c = this.onPlayer;
            return function(d) {
                var e = a("#" + b).parent();
                switch ("object" == typeof d && (d = d.data), d) {
                    case f.State.UNSTARTED:
                        return c.unstarted[b].call(e);
                    case f.State.ENDED:
                        return c.ended[b].call(e);
                    case f.State.PLAYING:
                        return c.playing[b].call(e);
                    case f.State.PAUSED:
                        return c.paused[b].call(e);
                    case f.State.BUFFERING:
                        return c.buffering[b].call(e);
                    case f.State.CUED:
                        return c.cued[b].call(e);
                    default:
                        return null
                }
            }
        },
        onError: function(b) {
            var c = this.onErr;
            return function(d) {
                var e = a("#" + b).parent();
                switch ("object" == typeof d && (d = d.data), d) {
                    case f.Error.BAD_INIT:
                    case f.Error.INVALID_PARAM:
                    case f.Error.CANT_PLAY:
                        return c.invalidParameter[b].call(e);
                    case f.Error.NOT_FOUND:
                        return c.notFound[b].call(e);
                    case f.Error.NOT_EMBEDDABLE:
                        return c.notEmbeddable[b].call(e);
                    default:
                        return c.defaultError[b].call(e)
                }
            }
        },
        qualityChange: function(b) {
            var c = this;
            return function(d) {
                var e = a("#" + b).parent();
                return "object" == typeof d && (d = d.data), c.onQualityChange[b].call(e, d)
            }
        },
        rateChange: function(b) {
            var c = this;
            return function(d) {
                var e = a("#" + b).parent();
                return "object" == typeof d && (d = d.data), c.onRateChange[b].call(e, d)
            }
        },
        onQualityChange: {},
        onRateChange: {},
        onPlayer: {
            unstarted: {},
            ended: {},
            playing: {},
            paused: {},
            buffering: {},
            cued: {},
            loaded: {}
        },
        onErr: {
            defaultError: {},
            notFound: {},
            notEmbeddable: {},
            invalidParameter: {}
        }
    }, a.tubeplayer.defaults.settings = {
        width: 480,
        height: 270,
        allowFullScreen: "true",
        initialVideo: "DkoeNLuMbcI",
        start: 0,
        preferredQuality: "default",
        controls: 1,
        showRelated: !1,
        playsinline: !1,
        annotations: !0,
        autoPlay: !1,
        loop: 0,
        color: "red",
        showinfo: !1,
        modestbranding: !0,
        protocol: "https:" == window.location.protocol ? "https" : "http",
        allowScriptAccess: "always",
        playerID: "tubeplayer-player-container",
        onPlay: function() {},
        onPause: function() {},
        onStop: function() {},
        onSeek: function() {},
        onMute: function() {},
        onUnMute: function() {},
        onPlayerLoaded: function() {},
        onPlayerUnstarted: function() {},
        onPlayerEnded: function() {},
        onPlayerPlaying: function() {},
        onPlayerPaused: function() {},
        onPlayerBuffering: function() {},
        onPlayerCued: function() {},
        onQualityChange: function() {},
        onRateChange: function() {},
        onError: function() {},
        onErrorNotFound: function() {},
        onErrorNotEmbeddable: function() {},
        onErrorInvalidParameter: function() {}
    }, a.fn.tubeplayer = function(b, d) {
        var e = a(this),
            g = typeof b;
        return 0 === arguments.length || "object" === g ? e.each(function() {
            if (e = a(this), "IFRAME" == e.prop("tagName")) {
                var c = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,
                    d = e.attr("src").match(c);
                if (d && 11 == d[7].length) {
                    var g = {
                            initialVideo: d[7]
                        },
                        h = e.attr("class"),
                        i = e.attr("id");
                    e.attr("width") && (g.width = e.attr("width")), e.attr("height") && (g.height = e.attr("height")), void 0 !== e.attr("allowfullscreen") ? g.allowFullScreen = "true" : g.allowFullScreen = !1;
                    var j = a("<div></div>").attr({
                        "class": h ? h : "",
                        id: i ? i : ""
                    });
                    e.replaceWith(j);
                    var k = a.extend({}, a.tubeplayer.defaults.settings, g, b);
                    f.init(j, k)
                }
            } else f.init(a(this), b)
        }) : "string" === g ? e.triggerHandler(b + c, "undefined" != typeof d ? d : null) : void 0
    };
    var g = function(a) {
        return function(b, c) {
            var d = f.getPkg(b);
            if (d.ytplayer) {
                var e = a(b, c, d);
                return "undefined" == typeof e && (e = d.$player), e
            }
            return d.$player
        }
    };
    a.tubeplayer.getPlayers = function() {
        return f.ytplayers
    }, f.init = function(g, i) {
        if (g.hasClass(d)) return g;
        var j = a.extend({}, a.tubeplayer.defaults.settings, i);
        j.playerID += "-" + b(), g.addClass(d).data(e, j);
        for (var k in h) g.bind(k + c, g, h[k]);
        return f.initDefaults(a.tubeplayer.defaults, j), a("<div></div>").attr("id", j.playerID).appendTo(g), f.initPlayer(g, j), g
    }, f.getPkg = function(a) {
        var b = a.data,
            c = b.data(e),
            d = f.ytplayers[c.playerID];
        return {
            $player: b,
            opts: c,
            ytplayer: d
        }
    }, f.iframeReady = function(b) {
        return f.inits.push(function() {
            new YT.Player(b.playerID, {
                videoId: b.initialVideo,
                width: b.width,
                height: b.height,
                playerVars: {
                    autoplay: b.autoPlay ? 1 : 0,
                    controls: b.controls ? b.controls : 0,
                    loop: b.loop ? 1 : 0,
                    rel: b.showRelated ? 1 : 0,
                    fs: b.allowFullScreen ? 1 : 0,
                    showinfo: b.showinfo ? 1 : 0,
                    modestbranding: b.modestbranding ? 1 : 0,
                    iv_load_policy: b.annotations ? 1 : 3,
                    start: b.start,
                    color: b.color,
                    playsinline: b.playsinline,
                    origin: window.location.origin
                },
                events: {
                    onReady: function(c) {
                        f.ytplayers[b.playerID] = c.target;
                        var e = a(c.target.getIframe()).parents("." + d);
                        e.tubeplayer("opts").onPlayerLoaded.call(e), a.tubeplayer.defaults.afterReady(e)
                    },
                    onPlaybackQualityChange: a.tubeplayer.defaults.qualityChange(b.playerID),
                    onPlaybackRateChange: a.tubeplayer.defaults.rateChange(b.playerID),
                    onStateChange: a.tubeplayer.defaults.stateChange(b.playerID),
                    onError: a.tubeplayer.defaults.onError(b.playerID)
                }
            })
        }), f.inits.length >= 1 && !f.inited ? function() {
            for (var a = 0; a < f.inits.length; a++) f.inits[a]();
            f.inited = !0
        } : (f.inited && f.inits.pop()(), window.onYouTubePlayerAPIReady)
    }, f.initDefaults = function(a, b) {
        var c = b.playerID,
            d = a.onPlayer;
        d.unstarted[c] = b.onPlayerUnstarted, d.ended[c] = b.onPlayerEnded, d.playing[c] = b.onPlayerPlaying, d.paused[c] = b.onPlayerPaused, d.buffering[c] = b.onPlayerBuffering, d.cued[c] = b.onPlayerCued, d.loaded[c] = b.onPlayerLoaded, a.onQualityChange[c] = b.onQualityChange, a.onRateChange[c] = b.onRateChange;
        var e = a.onErr;
        e.defaultError[c] = b.onError, e.notFound[c] = b.onErrorNotFound, e.notEmbeddable[c] = b.onErrorNotEmbeddable, e.invalidParameter[c] = b.onErrorInvalidParameter
    }, f.initPlayer = function(a, b) {
        if (!f.iframeScriptInited) {
            var c = document.createElement("script");
            c.src = b.protocol + "://www.youtube.com/iframe_api";
            var d = document.getElementsByTagName("script")[0];
            d.parentNode.insertBefore(c, d), f.iframeScriptInited = !0
        }
        window.onYouTubePlayerAPIReady = f.iframeReady(b)
    }, f.getVideoIDFromURL = function(a) {
        a = a || "";
        var b = a.indexOf("?"),
            c = a.substring(b, a.length),
            d = c.indexOf("v=");
        if (d > -1) {
            var e = c.indexOf("&", d);
            return e === -1 && (e = c.length), c.substring(d + "v=".length, e)
        }
        return ""
    };
    var h = {
        opts: g(function(a, b, c) {
            return c.opts
        }),
        cue: g(function(a, b, c) {
            c.ytplayer.cueVideoById(b, 0, c.opts.preferredQuality)
        }),
        cuePlaylist: g(function(a, b, c) {
            c.ytplayer.cuePlaylist(b.playlist, b.index || 0, b.startSeconds || 0, c.opts.preferredQuality)
        }),
        play: g(function(a, b, c) {
            var d, e;
            "object" == typeof b ? (d = b.id, e = b.time) : "undefined" != typeof b && (d = b, e = 0), d ? c.ytplayer.loadVideoById({
                videoId: d,
                startSeconds: e,
                suggestedQuality: c.opts.preferredQuality
            }) : c.ytplayer.playVideo(), c.opts.onPlay(b)
        }),
        playPlaylist: g(function(a, b, c) {
            var d, e, f;
            if ("object" == typeof b) {
                var g = void 0 !== b.length;
                d = g ? b : b.playlist, f = g ? 0 : b.time || 0, e = g ? 0 : b.index || 0
            } else "undefined" != typeof b && (d = b, f = 0, e = 0);
            d && (c.ytplayer.loadPlaylist(d, e, f, c.opts.preferredQuality), c.opts.onPlay(b))
        }),
        next: g(function(a, b, c) {
            c.ytplayer.nextVideo()
        }),
        previous: g(function(a, b, c) {
            c.ytplayer.previousVideo()
        }),
        playVideoAt: g(function(a, b, c) {
            c.ytplayer.playVideoAt(b)
        }),
        pause: g(function(a, b, c) {
            c.ytplayer.pauseVideo(), c.opts.onPause(c)
        }),
        stop: g(function(a, b, c) {
            c.ytplayer.stopVideo(), c.opts.onStop(c)
        }),
        seek: g(function(a, b, c) {
            if (/:/.test(b)) {
                var d = b.split(":").reverse();
                b = 0;
                for (var e = 0; e < d.length; e++) b += Math.pow(60, e) * (0 | d[e])
            }
            c.ytplayer.seekTo(b, !0), c.opts.onSeek(b)
        }),
        mute: g(function(a, b, c) {
            c.$player.attr("data-prev-mute-volume", c.ytplayer.getVolume()), c.ytplayer.mute(), c.opts.onMute(c)
        }),
        unmute: g(function(a, b, c) {
            c.ytplayer.unMute(), c.ytplayer.setVolume(c.$player.attr("data-prev-mute-volume") || 50), c.opts.onUnMute()
        }),
        isMuted: g(function(a, b, c) {
            return c.ytplayer.isMuted()
        }),
        volume: g(function(a, b, c) {
            return "undefined" == typeof b ? c.ytplayer.getVolume() : (c.ytplayer.setVolume(b), void c.$player.attr("data-prev-mute-volume", c.ytplayer.getVolume()))
        }),
        quality: g(function(a, b, c) {
            return "undefined" == typeof b ? c.ytplayer.getPlaybackQuality() : void c.ytplayer.setPlaybackQuality(b)
        }),
        playbackRate: g(function(a, b, c) {
            return "undefined" == typeof b ? c.ytplayer.getPlaybackRate() : void c.ytplayer.setPlaybackRate(b)
        }),
        data: g(function(a, b, c) {
            var d = {},
                e = c.ytplayer;
            return d.videoLoadedFraction = e.getVideoLoadedFraction(), d.bytesLoaded = e.getVideoBytesLoaded(), d.bytesTotal = e.getVideoBytesTotal(), d.startBytes = e.getVideoStartBytes(), d.state = e.getPlayerState(), d.currentTime = e.getCurrentTime(), d.duration = e.getDuration(), d.videoURL = e.getVideoUrl(), d.playlist = {
                videoIDs: e.getPlaylist(),
                currentIndex: e.getPlaylistIndex()
            }, d.videoEmbedCode = e.getVideoEmbedCode(), d.videoID = f.getVideoIDFromURL(d.videoURL), d.availableQualityLevels = e.getAvailableQualityLevels(), d.availablePlaybackRates = e.getAvailablePlaybackRates(), d
        }),
        videoId: g(function(a, b, c) {
            return f.getVideoIDFromURL(c.ytplayer.getVideoUrl())
        }),
        size: g(function(b, c, d) {
            "undefined" != typeof c && c.width && c.height && (d.ytplayer.setSize(c.width, c.height), a(d.ytplayer).css(c))
        }),
        destroy: g(function(b, g, h) {
            h.$player.removeClass(d).data(e, null).unbind(c).html(""), delete f.ytplayers[h.opts.playerID];
            var i = a.tubeplayer.defaults,
                j = ["unstarted", "ended", "playing", "paused", "buffering", "cued", "loaded"];
            return a.each(j, function(a, b) {
                delete i.onPlayer[b][h.opts.playerID]
            }), j = ["defaultError", "notFound", "notEmbeddable", "invalidParameter"], a.each(j, function(a, b) {
                delete i.onErr[b][h.opts.playerID]
            }), delete i.onQualityChange[h.opts.playerID], delete i.onRateChange[h.opts.playerID], "destroy" in h.ytplayer && h.ytplayer.destroy(), a(h.ytplayer).remove(), null
        }),
        player: g(function(a, b, c) {
            return c.ytplayer
        })
    }
}(jQuery),
function(a) {
    if ("function" == typeof define && define.amd) define(a);
    else if ("object" == typeof exports) module.exports = a();
    else {
        var b = window.Cookies,
            c = window.Cookies = a();
        c.noConflict = function() {
            return window.Cookies = b, c
        }
    }
}(function() {
    function a() {
        for (var a = 0, b = {}; a < arguments.length; a++) {
            var c = arguments[a];
            for (var d in c) b[d] = c[d]
        }
        return b
    }

    function b(c) {
        function d(b, e, f) {
            var g;
            if ("undefined" != typeof document) {
                if (arguments.length > 1) {
                    if (f = a({
                            path: "/"
                        }, d.defaults, f), "number" == typeof f.expires) {
                        var h = new Date;
                        h.setMilliseconds(h.getMilliseconds() + 864e5 * f.expires), f.expires = h
                    }
                    try {
                        g = JSON.stringify(e), /^[\{\[]/.test(g) && (e = g)
                    } catch (i) {}
                    return e = c.write ? c.write(e, b) : encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), b = encodeURIComponent(String(b)), b = b.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent), b = b.replace(/[\(\)]/g, escape), document.cookie = [b, "=", e, f.expires && "; expires=" + f.expires.toUTCString(), f.path && "; path=" + f.path, f.domain && "; domain=" + f.domain, f.secure ? "; secure" : ""].join("")
                }
                b || (g = {});
                for (var j = document.cookie ? document.cookie.split("; ") : [], k = /(%[0-9A-Z]{2})+/g, l = 0; l < j.length; l++) {
                    var m = j[l].split("="),
                        n = m.slice(1).join("=");
                    '"' === n.charAt(0) && (n = n.slice(1, -1));
                    try {
                        var o = m[0].replace(k, decodeURIComponent);
                        if (n = c.read ? c.read(n, o) : c(n, o) || n.replace(k, decodeURIComponent), this.json) try {
                            n = JSON.parse(n)
                        } catch (i) {}
                        if (b === o) {
                            g = n;
                            break
                        }
                        b || (g[o] = n)
                    } catch (i) {}
                }
                return g
            }
        }
        return d.set = d, d.get = function(a) {
            return d(a)
        }, d.getJSON = function() {
            return d.apply({
                json: !0
            }, [].slice.call(arguments))
        }, d.defaults = {}, d.remove = function(b, c) {
            d(b, "", a(c, {
                expires: -1
            }))
        }, d.withConverter = b, d
    }
    return b(function() {})
}), ! function(a, b, c) {
    function d(a, b) {
        return typeof a === b
    }

    function e() {
        var a, b, c, e, f, i, k;
        for (var l in h)
            if (h.hasOwnProperty(l)) {
                if (a = [], b = h[l], b.name && (a.push(b.name.toLowerCase()), b.options && b.options.aliases && b.options.aliases.length))
                    for (c = 0; c < b.options.aliases.length; c++) a.push(b.options.aliases[c].toLowerCase());
                for (e = d(b.fn, "function") ? b.fn() : b.fn, f = 0; f < a.length; f++) i = a[f], k = i.split("."), 1 === k.length ? j[k[0]] = e : (!j[k[0]] || j[k[0]] instanceof Boolean || (j[k[0]] = new Boolean(j[k[0]])), j[k[0]][k[1]] = e), g.push((e ? "" : "no-") + k.join("-"))
            }
    }

    function f(a) {
        var b = k.className,
            c = j._config.classPrefix || "";
        if (l && (b = b.baseVal), j._config.enableJSClass) {
            var d = new RegExp("(^|\\s)" + c + "no-js(\\s|$)");
            b = b.replace(d, "$1" + c + "js$2")
        }
        j._config.enableClasses && (b += " " + c + a.join(" " + c), l ? k.className.baseVal = b : k.className = b)
    }
    var g = [],
        h = [],
        i = {
            _version: "3.3.1",
            _config: {
                classPrefix: "",
                enableClasses: !0,
                enableJSClass: !0,
                usePrefixes: !0
            },
            _q: [],
            on: function(a, b) {
                var c = this;
                setTimeout(function() {
                    b(c[a])
                }, 0)
            },
            addTest: function(a, b, c) {
                h.push({
                    name: a,
                    fn: b,
                    options: c
                })
            },
            addAsyncTest: function(a) {
                h.push({
                    name: null,
                    fn: a
                })
            }
        },
        j = function() {};
    j.prototype = i, j = new j;
    var k = b.documentElement,
        l = "svg" === k.nodeName.toLowerCase();
    e(), f(g), delete i.addTest, delete i.addAsyncTest;
    for (var m = 0; m < j._q.length; m++) j._q[m]();
    a.Modernizr = j
}(window, document),
function(a, b) {
    "function" == typeof define && define.amd ? define("priorityNav", b(a)) : "object" == typeof exports ? module.exports = b(a) : a.priorityNav = b(a)
}(window || this, function(a) {
    "use strict";

    function b(a, b, c) {
        var d;
        return function() {
            var e = this,
                f = arguments,
                g = function() {
                    d = null, c || a.apply(e, f)
                },
                h = c && !d;
            clearTimeout(d), d = setTimeout(g, b), h && a.apply(e, f)
        }
    }
    var c, d, e, f, g, h, i, j, k = {},
        l = [],
        m = !!document.querySelector && !!a.addEventListener,
        n = {},
        o = 0,
        p = 0,
        q = 0,
        r = {
            initClass: "js-priorityNav",
            mainNavWrapper: "nav",
            mainNav: "ul",
            navDropdownClassName: "nav__dropdown",
            navDropdownToggleClassName: "nav__dropdown-toggle",
            navDropdownLabel: "more",
            navDropdownBreakpointLabel: "menu",
            breakPoint: 500,
            throttleDelay: 50,
            offsetPixels: 0,
            count: !0,
            moved: function() {},
            movedBack: function() {}
        },
        s = function(a, b, c) {
            if ("[object Object]" === Object.prototype.toString.call(a))
                for (var d in a) Object.prototype.hasOwnProperty.call(a, d) && b.call(c, a[d], d, a);
            else
                for (var e = 0, f = a.length; e < f; e++) b.call(c, a[e], e, a)
        },
        t = function(a, b) {
            for (var c = b.charAt(0); a && a !== document; a = a.parentNode)
                if ("." === c) {
                    if (a.classList.contains(b.substr(1))) return a
                } else if ("#" === c) {
                if (a.id === b.substr(1)) return a
            } else if ("[" === c && a.hasAttribute(b.substr(1, b.length - 2))) return a;
            return !1
        },
        u = function(a, b) {
            var c = {};
            return s(a, function(b, d) {
                c[d] = a[d]
            }), s(b, function(a, d) {
                c[d] = b[d]
            }), c
        },
        v = function(a, b) {
            if (a.classList) a.classList.toggle(b);
            else {
                var c = a.className.split(" "),
                    d = c.indexOf(b);
                d >= 0 ? c.splice(d, 1) : c.push(b), a.className = c.join(" ")
            }
        },
        w = function(a, b) {
            return j = document.createElement("span"), g = document.createElement("ul"), h = document.createElement("button"), h.innerHTML = b.navDropdownLabel, h.setAttribute("aria-controls", "menu"), h.setAttribute("type", "button"), g.setAttribute("aria-hidden", "true"), a.querySelector(f).parentNode !== a ? void console.warn("mainNav is not a direct child of mainNavWrapper, double check please") : (a.insertAfter(j, a.querySelector(f)), j.appendChild(h), j.appendChild(g), g.classList.add(b.navDropdownClassName), g.classList.add("priority-nav__dropdown"), h.classList.add(b.navDropdownToggleClassName), h.classList.add("priority-nav__dropdown-toggle"), j.classList.add(b.navDropdownClassName + "-wrapper"), j.classList.add("priority-nav__wrapper"), void a.classList.add("priority-nav"))
        },
        x = function(a) {
            var b = window.getComputedStyle(a),
                c = parseFloat(b.paddingLeft) + parseFloat(b.paddingRight);
            return a.clientWidth - c
            
        },
        y = function() {
            var a = document,
                b = window,
                c = a.compatMode && "CSS1Compat" === a.compatMode ? a.documentElement : a.body,
                d = c.clientWidth,
                e = c.clientHeight;
            return b.innerWidth && d > b.innerWidth && (d = b.innerWidth, e = b.innerHeight), {
                width: d,
                height: e
            }
        },
        z = function(a) {
            d = x(a), i = a.querySelector(g).parentNode === a ? a.querySelector(g).offsetWidth : 0, e = D(a) + n.offsetPixels, q = y().width;
        };
    k.doesItFit = function(a) {
        var c = 0 === a.getAttribute("instance") ? c : n.throttleDelay;
        o++, b(function() {
            var b = a.getAttribute("instance");
            for (z(a); d <= e && a.querySelector(f).children.length > 0 || q < n.breakPoint && a.querySelector(f).children.length > 0;){ 
                k.toDropdown(a, b), z(a, b), q < n.breakPoint && C(a, b, n.navDropdownBreakpointLabel);
            }
            for (; d >= l[b][l[b].length - 1] && q > n.breakPoint;){ k.toMenu(a, b), q > n.breakPoint && C(a, b, n.navDropdownLabel);
            }
            l[b].length < 1 && (a.querySelector(g).classList.remove("show"), C(a, b, n.navDropdownLabel)), a.querySelector(f).children.length < 1 ? (a.classList.add("is-empty"), C(a, b, n.navDropdownBreakpointLabel)) : a.classList.remove("is-empty"), A(a, b)
        }, c)()
    };
    var A = function(a, b) {
            l[b].length < 1 ? (a.querySelector(h).classList.add("priority-nav-is-hidden"), a.querySelector(h).classList.remove("priority-nav-is-visible"), a.classList.remove("priority-nav-has-dropdown"), a.querySelector(".priority-nav__wrapper").setAttribute("aria-haspopup", "false")) : (a.querySelector(h).classList.add("priority-nav-is-visible"), a.querySelector(h).setAttribute("tabindex", "0"), a.querySelector(h).classList.remove("priority-nav-is-hidden"), a.classList.add("priority-nav-has-dropdown"), a.querySelector(".priority-nav__wrapper").setAttribute("aria-haspopup", "true"))
        },
        B = function(a, b) {
            a.querySelector(h).setAttribute("priorityNav-count", l[b].length)
        },
        C = function(a, b, c) {
            a.querySelector(h).innerHTML = c
            
        };
    k.toDropdown = function(a, b) {
        a.querySelector(g).firstChild && a.querySelector(f).children.length > 0 ? a.querySelector(g).insertBefore(a.querySelector(f).lastElementChild, a.querySelector(g).firstChild) : a.querySelector(f).children.length > 0 && a.querySelector(g).appendChild(a.querySelector(f).lastElementChild), l[b].push(e), A(a, b), a.querySelector(f).children.length > 0 && n.count && B(a, b), n.moved();
    }, k.toMenu = function(a, b) {
        a.querySelector(g).children.length > 0 && a.querySelector(f).appendChild(a.querySelector(g).firstElementChild), l[b].pop(), A(a, b), a.querySelector(f).children.length > 0 && n.count && B(a, b), n.movedBack();
    };
    var D = function(a) {
            for (var b = a.childNodes, c = 0, d = 0; d < b.length; d++) 3 !== b[d].nodeType && (isNaN(b[d].offsetWidth) || (c += b[d].offsetWidth));
            return c
        },
        E = function(a, b) {
            window.attachEvent ? window.attachEvent("onresize", function() {
                k.doesItFit && k.doesItFit(a)
            }) : window.addEventListener && window.addEventListener("resize", function() {
                k.doesItFit && k.doesItFit(a)
            }, !0), a.querySelector(h).addEventListener("click", function() {
                v(a.querySelector(g), "show"), v(this, "is-open"), v(a, "is-open"), -1 !== a.className.indexOf("is-open") ? a.querySelector(g).setAttribute("aria-hidden", "false") : (a.querySelector(g).setAttribute("aria-hidden", "true"), a.querySelector(g).blur())
            }), document.addEventListener("click", function(c) {
                t(c.target, "." + b.navDropdownClassName) || c.target === a.querySelector(h) || (a.querySelector(g).classList.remove("show"), a.querySelector(h).classList.remove("is-open"), a.classList.remove("is-open"))
            }), document.onkeydown = function(a) {
                a = a || window.event, 27 === a.keyCode && (document.querySelector(g).classList.remove("show"), document.querySelector(h).classList.remove("is-open"), c.classList.remove("is-open"))
            }
        };
    Element.prototype.remove = function() {
        this.parentElement.removeChild(this)
    }, NodeList.prototype.remove = HTMLCollection.prototype.remove = function() {
        for (var a = 0, b = this.length; a < b; a++) this[a] && this[a].parentElement && this[a].parentElement.removeChild(this[a])
    }, k.destroy = function() {
        n && (document.documentElement.classList.remove(n.initClass), j.remove(), n = null, delete k.init, delete k.doesItFit)
    }, m && "undefined" != typeof Node && (Node.prototype.insertAfter = function(a, b) {
        this.insertBefore(a, b.nextSibling)
    });
    var F = function(a) {
        var b = a.charAt(0);
        return "." !== b && "#" !== b
    };
    return k.init = function(a) {
        if (n = u(r, a || {}), !m && "undefined" == typeof Node) return void console.warn("This browser doesn't support priorityNav");
        if (!F(n.navDropdownClassName) || !F(n.navDropdownToggleClassName)) return void console.warn("No symbols allowed in navDropdownClassName & navDropdownToggleClassName. These are not selectors.");
        var b = document.querySelectorAll(n.mainNavWrapper);
        s(b, function(a) {
            return l[p] = [], a.setAttribute("instance", p++), (c = a) ? (f = n.mainNav, a.querySelector(f) ? (w(a, n), g = "." + n.navDropdownClassName, a.querySelector(g) ? (h = "." + n.navDropdownToggleClassName, a.querySelector(h) ? (E(a, n), void k.doesItFit(a)) : void console.warn("couldn't find the specified navDropdownToggle element")) : void console.warn("couldn't find the specified navDropdown element")) : void console.warn("couldn't find the specified mainNav element")) : void console.warn("couldn't find the specified mainNavWrapper element")
        }), o++, document.documentElement.classList.add(n.initClass)
    }, k
}),
function(a) {
    a.fn.RandBG = function(b) {
        var c = a.extend({
                ClassPrefix: "bg",
                count: 10
            }, b),
            d = Math.ceil(Math.random() * c.count * c.count) % c.count;
        a(this).addClass(c.ClassPrefix + d)
    }
}(jQuery);
var stIsIE = !1;
if (sorttable = {
        init: function() {
            arguments.callee.done || (arguments.callee.done = !0, _timer && clearInterval(_timer), document.createElement && document.getElementsByTagName && (sorttable.DATE_RE = /^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/, forEach(document.getElementsByTagName("table"), function(a) {
                a.className.search(/\bsortable\b/) != -1 && sorttable.makeSortable(a)
            })));
                  
        },
        makeSortable: function(a) {
            if (0 == a.getElementsByTagName("thead").length && (the = document.createElement("thead"), the.appendChild(a.rows[0]), a.insertBefore(the, a.firstChild)), null == a.tHead && (a.tHead = a.getElementsByTagName("thead")[0]),
                1 == a.tHead.rows.length) {
              /*  sortbottomrows = [];
                for (var b = 0; b < a.rows.length; b++) a.rows[b].className.search(/\bsortbottom\b/) != -1 && (sortbottomrows[sortbottomrows.length] = a.rows[b]);
                if (sortbottomrows) {
                    null == a.tFoot && (tfo = document.createElement("tfoot"), a.appendChild(tfo));
                    for (var b = 0; b < sortbottomrows.length; b++) tfo.appendChild(sortbottomrows[b]);
                    delete sortbottomrows
                } */
                headrow = a.tHead.rows[0].cells;
                for (var b = 0; b < headrow.length; b++){headrow[b].className.match(/\bsorttable_nosort\b/) || (mtch = headrow[b].className.match(/\bsorttable_([a-z0-9]+)\b/), mtch && (override = mtch[1]), mtch && "function" == typeof sorttable["sort_" + override] ? headrow[b].sorttable_sortfunction = sorttable["sort_" + override] : headrow[b].sorttable_sortfunction = sorttable.guessType(a, b), headrow[b].sorttable_columnindex = b, headrow[b].sorttable_tbody = a.tBodies[0], dean_addEvent(headrow[b], "click", sorttable.innerSortFunction));  
                }
            }
        },
        innerSortFunction: function(a) {
            if (this.className.search(/\bsorttable_sorted\b/) != -1) return sorttable.reverse(this.sorttable_tbody), this.className = this.className.replace("sorttable_sorted", "sorttable_sorted_reverse"), this.removeChild(document.getElementById("sorttable_sortfwdind")), sortrevind = document.createElement("span"), sortrevind.id = "sorttable_sortrevind", sortrevind.innerHTML = stIsIE ? '&nbsp<font face="webdings">5</font>' : "&nbsp;&#x25B4;", void this.appendChild(sortrevind);
            if (this.className.search(/\bsorttable_sorted_reverse\b/) != -1) return sorttable.reverse(this.sorttable_tbody), this.className = this.className.replace("sorttable_sorted_reverse", "sorttable_sorted"), this.removeChild(document.getElementById("sorttable_sortrevind")), sortfwdind = document.createElement("span"), sortfwdind.id = "sorttable_sortfwdind", sortfwdind.innerHTML = stIsIE ? '&nbsp<font face="webdings">6</font>' : "&nbsp;&#x25BE;", void this.appendChild(sortfwdind);
            theadrow = this.parentNode, forEach(theadrow.childNodes, function(a) {
                1 == a.nodeType && (a.className = a.className.replace("sorttable_sorted_reverse", ""), a.className = a.className.replace("sorttable_sorted", ""))
            }), sortfwdind = document.getElementById("sorttable_sortfwdind"), sortfwdind && sortfwdind.parentNode.removeChild(sortfwdind), sortrevind = document.getElementById("sorttable_sortrevind"), sortrevind && sortrevind.parentNode.removeChild(sortrevind), this.className += " sorttable_sorted", sortfwdind = document.createElement("span"), sortfwdind.id = "sorttable_sortfwdind", sortfwdind.innerHTML = stIsIE ? '&nbsp<font face="webdings">6</font>' : "&nbsp;&#x25BE;", this.appendChild(sortfwdind), row_array = [], col = this.sorttable_columnindex, rows = this.sorttable_tbody.rows;
            for (var b = 0; b < rows.length; b++) row_array[row_array.length] = [sorttable.getInnerText(rows[b].cells[col]), rows[b]];
            row_array.sort(this.sorttable_sortfunction), tb = this.sorttable_tbody;
            for (var b = 0; b < row_array.length; b++) tb.appendChild(row_array[b][1]);
            delete row_array
        },
        guessType: function(a, b) {
            sortfn = sorttable.sort_alpha;
            for (var c = 0; c < a.tBodies[0].rows.length; c++)
                if (text = sorttable.getInnerText(a.tBodies[0].rows[c].cells[b]), "" != text) {
                    if (text.match(/^-?[ï¿½$ï¿½]?[\d,.]+%?$/)) return sorttable.sort_numeric;
                    if (possdate = text.match(sorttable.DATE_RE), possdate) {
                        if (first = parseInt(possdate[1]), second = parseInt(possdate[2]), first > 12) return sorttable.sort_ddmm;
                        if (second > 12) return sorttable.sort_mmdd;
                        sortfn = sorttable.sort_ddmm
                    }
                } return sortfn
        },
        getInnerText: function(a) {
            if (!a) return "";
            if (hasInputs = "function" == typeof a.getElementsByTagName && a.getElementsByTagName("input").length, null != a.getAttribute("sorttable_customkey")) return a.getAttribute("sorttable_customkey");
            if ("undefined" != typeof a.textContent && !hasInputs) return a.textContent.replace(/^\s+|\s+$/g, "");
            if ("undefined" != typeof a.innerText && !hasInputs) return a.innerText.replace(/^\s+|\s+$/g, "");
            if ("undefined" != typeof a.text && !hasInputs) return a.text.replace(/^\s+|\s+$/g, "");
            switch (a.nodeType) {
                case 3:
                    if ("input" == a.nodeName.toLowerCase()) return a.value.replace(/^\s+|\s+$/g, "");
                case 4:
                    return a.nodeValue.replace(/^\s+|\s+$/g, "");
                case 1:
                case 11:
                    for (var b = "", c = 0; c < a.childNodes.length; c++) b += sorttable.getInnerText(a.childNodes[c]);
                    return b.replace(/^\s+|\s+$/g, "");
                default:
                    return ""
            }
        },
        reverse: function(a) {
            newrows = [];
            for (var b = 0; b < a.rows.length; b++) newrows[newrows.length] = a.rows[b];
            for (var b = newrows.length - 1; b >= 0; b--) a.appendChild(newrows[b]);
            delete newrows
        },
        sort_numeric: function(a, b) {
            return aa = parseFloat(a[0].replace(/[^0-9.-]/g, "")), isNaN(aa) && (aa = 0), bb = parseFloat(b[0].replace(/[^0-9.-]/g, "")), isNaN(bb) && (bb = 0), aa - bb
        },
        sort_alpha: function(a, b) {
            return a[0] == b[0] ? 0 : a[0] < b[0] ? -1 : 1
        },
        sort_ddmm: function(a, b) {
            return mtch = a[0].match(sorttable.DATE_RE), y = mtch[3], m = mtch[2], d = mtch[1], 1 == m.length && (m = "0" + m), 1 == d.length && (d = "0" + d), dt1 = y + m + d, mtch = b[0].match(sorttable.DATE_RE), y = mtch[3], m = mtch[2], d = mtch[1], 1 == m.length && (m = "0" + m), 1 == d.length && (d = "0" + d), dt2 = y + m + d, dt1 == dt2 ? 0 : dt1 < dt2 ? -1 : 1
        },
        sort_mmdd: function(a, b) {
            return mtch = a[0].match(sorttable.DATE_RE), y = mtch[3], d = mtch[2], m = mtch[1], 1 == m.length && (m = "0" + m), 1 == d.length && (d = "0" + d), dt1 = y + m + d, mtch = b[0].match(sorttable.DATE_RE), y = mtch[3], d = mtch[2], m = mtch[1], 1 == m.length && (m = "0" + m), 1 == d.length && (d = "0" + d), dt2 = y + m + d, dt1 == dt2 ? 0 : dt1 < dt2 ? -1 : 1
        },
        shaker_sort: function(a, b) {
            for (var c = 0, d = a.length - 1, e = !0; e;) {
                e = !1;
                for (var f = c; f < d; ++f)
                    if (b(a[f], a[f + 1]) > 0) {
                        var g = a[f];
                        a[f] = a[f + 1], a[f + 1] = g, e = !0
                    } if (d--, !e) break;
                for (var f = d; f > c; --f)
                    if (b(a[f], a[f - 1]) < 0) {
                        var g = a[f];
                        a[f] = a[f - 1], a[f - 1] = g, e = !0
                    } c++
            }
        }
    }, document.addEventListener && document.addEventListener("DOMContentLoaded", sorttable.init, !1), /WebKit/i.test(navigator.userAgent)) var _timer = setInterval(function() {
    /loaded|complete/.test(document.readyState) && sorttable.init()
}, 10);
window.onload = sorttable.init, dean_addEvent.guid = 1, fixEvent.preventDefault = function() {
    this.returnValue = !1
}, fixEvent.stopPropagation = function() {
    this.cancelBubble = !0
}, Array.forEach || (Array.forEach = function(a, b, c) {
    for (var d = 0; d < a.length; d++) b.call(c, a[d], d, a)
}), Function.prototype.forEach = function(a, b, c) {
    for (var d in a) "undefined" == typeof this.prototype[d] && b.call(c, a[d], d, a)
}, String.forEach = function(a, b, c) {
    Array.forEach(a.split(""), function(d, e) {
        b.call(c, d, e, a)
    })
};
var forEach = function(a, b, c) {
        if (a) {
            var d = Object;
            if (a instanceof Function) d = Function;
            else {
                if (a.forEach instanceof Function) return void a.forEach(b, c);
                "string" == typeof a ? d = String : "number" == typeof a.length && (d = Array)
            }
            d.forEach(a, b, c)
        }
    },
    mul_table = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259],
    shg_table = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];
$(window).scroll(function() {
    triangleParallax()
}), $(document).ready(function() {
    priorityNavGo(), numNav(), addEffects(), brandAni(), setJsBreaks(), skipLinks(), logo(), mobiControls(), inpageNav(), matchheights(), randomBackground(), funkyBlur(), checkall(), tempMoreTopics(), sbg(), smooth(), gmapsTakeover(), filterFaculty(), yTuber(), $(".fitvid").fitVids(), videoCarousel(), hoverOn(), showhidenat(), tabsnat(), clickTableRow(), subnavClone(), loadmore(), faqs(), $(".sortable th").keydown(function(a) {
        13 == a.keyCode && $(this).trigger("click");
    })
});
 $(document).ajaxComplete(function () {
    addEffects(), matchheights(), funkyBlur(), yTuber(), $(".fitvid").fitVids(), sbg()
    if (typeof $carousel !== 'undefined') {
        $carousel.flickity("destroy"), $carousel.flickity()
    } else {
        if(typeof $('.carousel') !== 'undefined'){
            $('.carousel').flickity();
            setTimeout(function(){$('.carousel').flickity('resize');}, 500);
        } 
    }
    
    console.log("Triggered ajaxComplete handler.")
});

  $(document).ready(function () {
     $('.dept_news_list .pagination a.disabled').attr("tabindex", "-1"); 
     
    $("a[target='_blank']").each(function () { 
      if(!$(this).has('.extLink').length){
        $(this).append('<span class="vh"> Opens in new window</span><span class="extLink"><i class="fa fa-external-link-alt" aria-hidden="true"></i></span>');
      }
    });
    
     $("a[target=_blank]").each(function () {
       if(!$(this).has('.extLink').length){
            $(this).append('<span class="vh"> Opens in new window</span><span class="extLink"><i class="fa fa-external-link-alt" aria-hidden="true"></i></span>');
       }
        linkDataLayer = "";
       if($(this).parents("article.articleMain .innerSection").length > 0 && !$(this).hasClass('sbg-button')){
               linkDataLayer = "dataLayer.push({'event': 'Article Link Click', 'referringPage': '" + window.location.href + "', 'linkURL': '"+ $(this).attr("href") + "'});";
               $(this).attr("onclick", linkDataLayer);
           }
          
        linkDataLayer = "";
    });
  $("article.articleMain .innerSection a:not([target=_blank]):not('.sbg-button')").each(function () {
       linkDataLayer = "";
       linkDataLayer = "dataLayer.push({'event': 'Article Link Click', 'referringPage': '" + window.location.href + "', 'linkURL': '"+ $(this).attr("href") + "'});";
               $(this).attr("onclick", linkDataLayer);
        linkDataLayer = "";
    });
  
    
         $("#initSort").each(function(){
            sorttable.innerSortFunction.apply(this, []);
        });

});

$(window).on("load", function () {
        if(typeof $('.slider.sliderIG') !== 'undefined'){
             $('.carousel').flickity();
            setTimeout(function(){$('.carousel').flickity('resize');}, 500);
        } 
});